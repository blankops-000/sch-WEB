<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://unpkg.com https://cdn.tailwindcss.com https://cdn.jsdelivr.net https://cdnjs.cloudflare.com; style-src 'self' 'unsafe-inline' https://cdn.tailwindcss.com https://cdnjs.cloudflare.com https://cdn.jsdelivr.net; img-src 'self' data: https:; font-src 'self' data: https://cdnjs.cloudflare.com; connect-src 'self' http://localhost:5000 https://unpkg.com;">
    <title>The Testament School - Admin Panel</title>
    <!-- Cache Buster: v2.2 - 1734567890 -->
    
    <!-- External Libraries -->
    <script crossorigin 
            src="https://unpkg.com/react@18/umd/react.development.js"
            onerror="console.warn('React CDN failed to load')"></script>
    <script crossorigin 
            src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"
            onerror="console.warn('ReactDOM CDN failed to load')"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"
            onerror="console.warn('Babel CDN failed to load')"></script>
    <script src="https://cdn.tailwindcss.com"
            onerror="console.warn('Tailwind CDN failed to load')"></script>
    <link rel="stylesheet" 
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
          integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
          crossorigin="anonymous" 
          referrerpolicy="no-referrer"
          onerror="console.warn('FontAwesome CDN failed to load')" />
    
    <!-- FullCalendar CSS -->
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.css" 
          rel="stylesheet"
          crossorigin="anonymous"
          onerror="console.warn('FullCalendar CSS failed to load')" />
    
    <style>
        /* Enhanced Custom Styles */
        :root {
            --primary: #1e40af;
            --secondary: #3b82f6;
            --accent: #60a5fa;
            --light: #f8fafc;
            --dark: #1e293b;
            --gradient-primary: linear-gradient(135deg, #3b82f6 0%, #1e40af 100%);
            --gradient-secondary: linear-gradient(135deg, #60a5fa 0%, #3b82f6 100%);
            --gradient-accent: linear-gradient(135deg, #93c5fd 0%, #60a5fa 100%);
            --shadow-soft: 0 10px 40px rgba(0, 0, 0, 0.1);
            --shadow-medium: 0 20px 60px rgba(0, 0, 0, 0.15);
            --shadow-strong: 0 30px 80px rgba(0, 0, 0, 0.2);
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #3b82f6 0%, #1e40af 100%);
        }
        
        .gradient-secondary {
            background: var(--gradient-secondary);
        }
        
        .gradient-accent {
            background: var(--gradient-accent);
        }
        
        .glass-effect {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        
        .card-hover {
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
        }
        
        .card-hover::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.6s;
        }
        
        .card-hover:hover::before {
            left: 100%;
        }
        
        .card-hover:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: var(--shadow-strong);
        }
        
        .fade-in {
            animation: fadeInUp 1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        
        @keyframes fadeInUp {
            from { 
                opacity: 0; 
                transform: translateY(30px) scale(0.95); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0) scale(1); 
            }
        }
        
        .slide-in-left {
            animation: slideInLeft 0.8s ease-out;
        }
        
        @keyframes slideInLeft {
            from { 
                opacity: 0; 
                transform: translateX(-50px); 
            }
            to { 
                opacity: 1; 
                transform: translateX(0); 
            }
        }
        
        .slide-in-right {
            animation: slideInRight 0.8s ease-out;
        }
        
        @keyframes slideInRight {
            from { 
                opacity: 0; 
                transform: translateX(50px); 
            }
            to { 
                opacity: 1; 
                transform: translateX(0); 
            }
        }
        
        .pulse-glow {
            animation: pulseGlow 2s infinite;
        }
        
        @keyframes pulseGlow {
            0%, 100% { 
                box-shadow: 0 0 20px rgba(59, 130, 246, 0.3); 
            }
            50% { 
                box-shadow: 0 0 40px rgba(59, 130, 246, 0.6); 
            }
        }
        
        .floating {
            animation: floating 3s ease-in-out infinite;
        }
        
        @keyframes floating {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        /* Enhanced Mobile Navigation */
        .mobile-nav {
            transform: translateX(-100%);
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            backdrop-filter: blur(20px);
            background: linear-gradient(135deg, rgba(30, 64, 175, 0.95), rgba(59, 130, 246, 0.95));
        }
        
        .mobile-nav.open {
            transform: translateX(0);
            box-shadow: 10px 0 30px rgba(0, 0, 0, 0.3);
        }
        
        /* Enhanced Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 12px;
        }
        
        ::-webkit-scrollbar-track {
            background: linear-gradient(180deg, #f1f5f9, #e2e8f0);
            border-radius: 6px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, #3b82f6, #1e40af);
            border-radius: 6px;
            border: 2px solid #f1f5f9;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(180deg, #2563eb, #1d4ed8);
            box-shadow: 0 0 10px rgba(59, 130, 246, 0.5);
        }
        
        /* Enhanced Smooth scrolling */
        html {
            scroll-behavior: smooth;
            scroll-padding-top: 80px;
        }
        
        /* Button Enhancements */
        .btn-primary {
            background: var(--gradient-primary);
            border: none;
            border-radius: 12px;
            padding: 12px 24px;
            font-weight: 600;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.6s;
        }
        
        .btn-primary:hover::before {
            left: 100%;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(59, 130, 246, 0.4);
        }
        
        .btn-secondary {
            background: transparent;
            border: 2px solid #3b82f6;
            border-radius: 12px;
            padding: 10px 22px;
            font-weight: 600;
            color: #3b82f6;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .btn-secondary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: #3b82f6;
            transition: left 0.3s;
            z-index: -1;
        }
        
        .btn-secondary:hover::before {
            left: 0;
        }
        
        .btn-secondary:hover {
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(59, 130, 246, 0.3);
        }
        
        /* Mobile menu overlay */
        .mobile-menu-overlay {
            display: none;
            position: fixed;
            top: 64px;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 40;
        }
        
        .mobile-menu-overlay.open {
            display: block;
        }
        
        /* Grade selector styles */
        .grade-selector {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 10px;
            margin-top: 20px;
        }
        
        .grade-btn {
            padding: 12px;
            background: #f1f5f9;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .grade-btn:hover {
            background: #3b82f6;
            color: white;
            border-color: #3b82f6;
        }
        
        .grade-btn.active {
            background: #1e40af;
            color: white;
            border-color: #1e40af;
        }
        
        /* Calendar event colors */
        .fc-event {
            cursor: pointer;
        }
        
        /* Calendar filter */
        .calendar-filter {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .filter-btn {
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .filter-btn.active {
            transform: scale(1.05);
        }
        
        /* Event details modal */
        .event-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .event-modal.open {
            opacity: 1;
            visibility: visible;
        }
        
        .event-modal-content {
            background: white;
            border-radius: 12px;
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            transform: translateY(-20px);
            transition: transform 0.3s ease;
        }
        
        .event-modal.open .event-modal-content {
            transform: translateY(0);
        }
    </style>
</head>
<body class="font-sans antialiased">
    <div id="root"></div>
    
    <!-- FullCalendar JS -->
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.js"
            crossorigin="anonymous"
            onerror="console.warn('FullCalendar JS failed to load'); window.FullCalendar = { Calendar: function() { return { render: function() {}, destroy: function() {} }; } };"></script>
    
    <script type="text/babel">
        // Main Application - Clean Version
        const { useState, useEffect, useRef } = React;
        const { createRoot } = ReactDOM;

        // Simple Router
        const Router = ({ children }) => {
            const [currentHash, setCurrentHash] = useState(window.location.hash || '#/');
            
            useEffect(() => {
                const handleHashChange = () => setCurrentHash(window.location.hash || '#/');
                window.addEventListener('hashchange', handleHashChange);
                return () => window.removeEventListener('hashchange', handleHashChange);
            }, []);
            
            return children(currentHash);
        };

        // Simple auth functions
        const checkAuth = () => {
            const storedUser = localStorage.getItem('admin_user');
            if (storedUser) {
                try {
                    return JSON.parse(storedUser);
                } catch (e) {
                    localStorage.removeItem('admin_user');
                }
            }
            return null;
        };
        
        const loginUser = async (username, password) => {
            console.log('Login attempt:', { username, password });
            if (username.toLowerCase().trim() === 'admin' && password.trim() === 'outering2024') {
                const userData = { id: 1, name: 'Administrator', username, role: 'admin' };
                localStorage.setItem('admin_user', JSON.stringify(userData));
                console.log('Login successful');
                return { success: true, user: userData };
            }
            console.log('Login failed - invalid credentials');
            return { success: false, message: 'Invalid credentials' };
        };
        
        const logoutUser = () => {
            localStorage.removeItem('admin_user');
            localStorage.removeItem('admin_token');
            window.location.hash = '#/';
        };

        const AdminLogin = () => {
            const [credentials, setCredentials] = useState({ username: '', password: '' });
            const [loading, setLoading] = useState(false);
            const [error, setError] = useState('');
            
            const handleSubmit = async (e) => {
                e.preventDefault();
                setError('');
                setLoading(true);
                
                const result = await loginUser(credentials.username, credentials.password);
                
                if (result.success) {
                    window.location.hash = '#/admin';
                } else {
                    setError(result.message || 'Invalid credentials');
                }
                
                setLoading(false);
            };
            
            return (
                <div className="min-h-screen flex items-center justify-center bg-gradient-to-r from-blue-900 to-blue-700">
                    <div className="bg-white rounded-xl p-8 w-full max-w-md shadow-2xl">
                        <div className="text-center mb-8">
                            <div className="w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4">
                                <i className="fas fa-lock text-white text-2xl"></i>
                            </div>
                            <h2 className="text-3xl font-bold text-gray-900">Admin Login</h2>
                            <p className="text-gray-600 mt-2">The Testament School Administration</p>
                        </div>
                        
                        {error && (
                            <div className="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4">
                                {error}
                            </div>
                        )}
                        
                        <form onSubmit={handleSubmit}>
                            <div className="mb-4">
                                <label className="block text-gray-700 mb-2">Username</label>
                                <input
                                    type="text"
                                    value={credentials.username}
                                    onChange={(e) => setCredentials({...credentials, username: e.target.value})}
                                    required
                                    className="w-full px-4 py-3 rounded-lg border focus:border-blue-500 focus:outline-none"
                                    placeholder="Enter username"
                                />
                            </div>
                            
                            <div className="mb-6">
                                <label className="block text-gray-700 mb-2">Password</label>
                                <input
                                    type="password"
                                    value={credentials.password}
                                    onChange={(e) => setCredentials({...credentials, password: e.target.value})}
                                    required
                                    className="w-full px-4 py-3 rounded-lg border focus:border-blue-500 focus:outline-none"
                                    placeholder="Enter password"
                                />
                            </div>
                            
                            <button
                                type="submit"
                                disabled={loading}
                                className="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg transition disabled:opacity-50 cursor-pointer"
                            >
                                {loading ? 'Logging in...' : 'Login to Admin Panel'}
                            </button>
                            
                            <div className="mt-6 text-center">
                                <div className="bg-yellow-50 border border-yellow-200 rounded-lg p-3 text-sm">
                                    <p className="font-medium text-yellow-800 mb-1">Demo Mode:</p>
                                    <p className="text-yellow-700 text-xs">Username: admin | Password: outering2024</p>
                                </div>
                            </div>
                            
                            <div className="mt-8 text-center">
                                <button 
                                    type="button"
                                    onClick={() => window.location.href = 'home.html'}
                                    className="text-blue-600 hover:text-blue-800 bg-transparent border-none cursor-pointer"
                                >
                                    ‚Üê Back to Website
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            );
        };

        const AdminDashboard = () => {
            const [user] = useState(checkAuth());
            const [activeSection, setActiveSection] = useState('dashboard');
            
            const stats = [
                { label: 'Total Students', value: '956', icon: 'users', color: 'blue' },
                { label: 'Total Staff', value: '68', icon: 'chalkboard-teacher', color: 'green' },
                { label: 'Active Events', value: '12', icon: 'calendar-alt', color: 'purple' },
                { label: 'New Messages', value: '8', icon: 'envelope', color: 'yellow' }
            ];
            
            const menuItems = [
                { id: 'dashboard', label: 'Dashboard', icon: 'tachometer-alt' },
                { id: 'academics', label: 'Academics', icon: 'graduation-cap' },
                { id: 'news', label: 'News', icon: 'newspaper' },
                { id: 'calendar', label: 'Calendar', icon: 'calendar-alt' },
                { id: 'staff', label: 'Staff', icon: 'users' },
                { id: 'policies', label: 'Policies', icon: 'file-alt' },
                { id: 'contacts', label: 'Contacts', icon: 'envelope' }
            ];
            
            const renderContent = () => {
                switch(activeSection) {
                    case 'academics':
                        return <AcademicsManager />;
                    case 'news':
                        return <NewsManager />;
                    case 'calendar':
                        return <CalendarManager />;
                    case 'staff':
                        return <StaffManager />;
                    case 'policies':
                        return <PoliciesManager />;
                    case 'contacts':
                        return <ContactsManager />;
                    default:
                        return <DashboardOverview stats={stats} setActiveSection={setActiveSection} />;
                }
            };
            
            return (
                <div className="min-h-screen bg-gray-100 flex">
                    {/* Sidebar */}
                    <div className="w-64 bg-white shadow-lg flex flex-col">
                        <div className="p-6 border-b">
                            <div className="flex items-center space-x-3">
                                <div className="w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center">
                                    <i className="fas fa-user-shield text-white"></i>
                                </div>
                                <div>
                                    <h1 className="text-lg font-bold">Admin Panel</h1>
                                    <p className="text-sm text-gray-600">{user?.name}</p>
                                </div>
                            </div>
                        </div>
                        
                        <nav className="p-4 flex-1">
                            {menuItems.map(item => (
                                <button
                                    key={item.id}
                                    onClick={(e) => {
                                        e.preventDefault();
                                        console.log('Menu item clicked:', item.id);
                                        setActiveSection(item.id);
                                    }}
                                    className={`w-full text-left px-4 py-3 rounded-lg mb-2 flex items-center space-x-3 transition ${
                                        activeSection === item.id 
                                            ? 'bg-blue-100 text-blue-700 font-medium' 
                                            : 'text-gray-600 hover:bg-gray-100'
                                    } cursor-pointer`}
                                    type="button"
                                >
                                    <i className={`fas fa-${item.icon}`}></i>
                                    <span>{item.label}</span>
                                </button>
                            ))}
                        </nav>
                        
                        <div className="mt-auto p-4 border-t border-gray-200">
                            <button 
                                onClick={(e) => {
                                    e.preventDefault();
                                    window.location.href = 'home.html';
                                }}
                                className="w-full px-4 py-2 text-gray-600 hover:text-gray-800 mb-2 cursor-pointer bg-transparent border border-gray-300 rounded-lg"
                                type="button"
                            >
                                <i className="fas fa-home mr-2"></i>View Website
                            </button>
                            <button 
                                onClick={(e) => {
                                    e.preventDefault();
                                    logoutUser();
                                }}
                                className="w-full px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition cursor-pointer"
                                type="button"
                            >
                                <i className="fas fa-sign-out-alt mr-2"></i>Logout
                            </button>
                        </div>
                    </div>
                    
                    {/* Main Content */}
                    <div className="flex-1 p-8">
                        {renderContent()}
                    </div>
                </div>
            );
        };
        
        const RecentActivities = () => {
            const [activities, setActivities] = useState([
                { id: 1, action: 'New student registration', time: '10 minutes ago' },
                { id: 2, action: 'Exam results uploaded', time: '1 hour ago' },
                { id: 3, action: 'News article published', time: '3 hours ago' }
            ]);
            
            const deleteActivity = (id) => {
                setActivities(activities.filter(activity => activity.id !== id));
                showNotification('Activity deleted', 'success');
            };
            
            return (
                <div className="space-y-4">
                    {activities.map((activity) => (
                        <div key={activity.id} className="flex items-center justify-between p-3 border rounded-lg">
                            <div className="flex items-center space-x-3">
                                <div className="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center">
                                    <i className="fas fa-bell text-blue-600 text-sm"></i>
                                </div>
                                <span className="font-medium">{activity.action}</span>
                            </div>
                            <div className="flex items-center space-x-2">
                                <span className="text-sm text-gray-500">{activity.time}</span>
                                <button 
                                    onClick={(e) => {
                                        e.preventDefault();
                                        deleteActivity(activity.id);
                                    }}
                                    className="text-red-600 hover:text-red-800 cursor-pointer bg-transparent border-none p-1"
                                    type="button"
                                    title="Delete activity"
                                >
                                    <i className="fas fa-trash text-xs"></i>
                                </button>
                            </div>
                        </div>
                    ))}
                </div>
            );
        };
        
        const DashboardOverview = ({ stats, setActiveSection }) => {
            
            const handleQuickAction = (action) => {
                console.log('Quick action clicked:', action);
                switch(action) {
                    case 'Add Student':
                        showNotification('Opening student registration...', 'info');
                        if (setActiveSection) setActiveSection('academics');
                        break;
                    case 'Add Event':
                        showNotification('Opening calendar management...', 'info');
                        if (setActiveSection) setActiveSection('calendar');
                        break;
                    case 'Post News':
                        showNotification('Opening news management...', 'info');
                        if (setActiveSection) setActiveSection('news');
                        break;
                    case 'Reports':
                        showNotification('Opening reports section...', 'info');
                        if (setActiveSection) setActiveSection('academics');
                        break;
                }
            };
            
            return (
                <div>
                    <h2 className="text-2xl font-bold text-gray-900 mb-6">Dashboard Overview</h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                        {stats.map((stat, index) => (
                            <div key={index} className="bg-white rounded-xl shadow p-6">
                                <div className="flex items-center justify-between">
                                    <div>
                                        <p className="text-sm text-gray-500">{stat.label}</p>
                                        <p className="text-2xl font-bold text-gray-900">{stat.value}</p>
                                    </div>
                                    <div className={`p-3 rounded-lg ${
                                        stat.color === 'blue' ? 'bg-blue-100' :
                                        stat.color === 'green' ? 'bg-green-100' :
                                        stat.color === 'purple' ? 'bg-purple-100' : 'bg-yellow-100'
                                    }`}>
                                        <i className={`fas fa-${stat.icon} text-2xl ${
                                            stat.color === 'blue' ? 'text-blue-600' :
                                            stat.color === 'green' ? 'text-green-600' :
                                            stat.color === 'purple' ? 'text-purple-600' : 'text-yellow-600'
                                        }`}></i>
                                    </div>
                                </div>
                            </div>
                        ))}
                    </div>
                    
                    <div className="grid md:grid-cols-2 gap-8">
                        <div className="bg-white rounded-xl shadow p-6">
                            <h3 className="text-xl font-bold text-gray-900 mb-6">Quick Actions</h3>
                            <div className="grid grid-cols-2 gap-4">
                                {[
                                    { icon: 'user-plus', label: 'Add Student', color: 'blue' },
                                    { icon: 'calendar-plus', label: 'Add Event', color: 'green' },
                                    { icon: 'newspaper', label: 'Post News', color: 'purple' },
                                    { icon: 'chart-bar', label: 'Reports', color: 'red' }
                                ].map((action, index) => (
                                    <button 
                                        key={index} 
                                        onClick={(e) => {
                                            e.preventDefault();
                                            e.stopPropagation();
                                            console.log('Button clicked:', action.label);
                                            handleQuickAction(action.label);
                                        }} 
                                        className="p-4 border rounded-lg text-center hover:bg-gray-50 transition cursor-pointer bg-white"
                                        type="button"
                                    >
                                        <i className={`fas fa-${action.icon} text-${action.color}-600 text-2xl mb-2 block`}></i>
                                        <p className="font-medium">{action.label}</p>
                                    </button>
                                ))}
                            </div>
                        </div>
                        
                        <div className="bg-white rounded-xl shadow p-6">
                            <h3 className="text-xl font-bold text-gray-900 mb-6">Recent Activities</h3>
                            <RecentActivities />
                        </div>
                    </div>
                </div>
            );
        };
        
        const AcademicsManager = () => {
            const [activeTab, setActiveTab] = useState('handbooks');
            const [selectedGrade, setSelectedGrade] = useState('PP1');
            
            const grades = ['PP1', 'PP2', 'Grade 1', 'Grade 2', 'Grade 3', 'Grade 4', 'Grade 5', 'Grade 6', 'Grade 7', 'Grade 8', 'Grade 9'];
            
            return (
                <div className="space-y-8">
                    <div className="flex items-center justify-between">
                        <div>
                            <h2 className="text-3xl font-bold text-gray-900">Academics Management</h2>
                            <p className="text-gray-600 mt-2">Manage handbooks, reports, and student awards</p>
                        </div>
                        <div className="bg-blue-50 px-4 py-2 rounded-lg">
                            <span className="text-blue-700 font-medium">üìö Academic Year 2024</span>
                        </div>
                    </div>
                    
                    {/* Enhanced Tab Navigation */}
                    <div className="bg-white rounded-2xl shadow-lg overflow-hidden">
                        <div className="flex bg-gray-50">
                            <button
                                onClick={() => setActiveTab('handbooks')}
                                className={`flex-1 px-8 py-6 font-semibold transition-all duration-300 ${
                                    activeTab === 'handbooks' 
                                        ? 'bg-white text-blue-600 shadow-lg transform -translate-y-1' 
                                        : 'text-gray-600 hover:text-gray-900 hover:bg-white/50'
                                } cursor-pointer bg-transparent border-none rounded-t-2xl`}
                            >
                                <div className="flex flex-col items-center space-y-2">
                                    <i className="fas fa-file-pdf text-2xl"></i>
                                    <span>Update Handbooks</span>
                                </div>
                            </button>
                            <button
                                onClick={() => setActiveTab('reports')}
                                className={`flex-1 px-8 py-6 font-semibold transition-all duration-300 ${
                                    activeTab === 'reports' 
                                        ? 'bg-white text-blue-600 shadow-lg transform -translate-y-1' 
                                        : 'text-gray-600 hover:text-gray-900 hover:bg-white/50'
                                } cursor-pointer bg-transparent border-none rounded-t-2xl`}
                            >
                                <div className="flex flex-col items-center space-y-2">
                                    <i className="fas fa-chart-line text-2xl"></i>
                                    <span>Academic Reports</span>
                                </div>
                            </button>
                            <button
                                onClick={() => setActiveTab('awards')}
                                className={`flex-1 px-8 py-6 font-semibold transition-all duration-300 ${
                                    activeTab === 'awards' 
                                        ? 'bg-white text-blue-600 shadow-lg transform -translate-y-1' 
                                        : 'text-gray-600 hover:text-gray-900 hover:bg-white/50'
                                } cursor-pointer bg-transparent border-none rounded-t-2xl`}
                            >
                                <div className="flex flex-col items-center space-y-2">
                                    <i className="fas fa-medal text-2xl"></i>
                                    <span>Awards & Recognition</span>
                                </div>
                            </button>
                        </div>
                    </div>
                    
                    {/* Enhanced Tab Content */}
                    {activeTab === 'handbooks' && (
                        <div className="bg-white rounded-2xl shadow-lg p-8">
                            <div className="flex items-center space-x-3 mb-6">
                                <div className="w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center">
                                    <i className="fas fa-file-pdf text-blue-600 text-xl"></i>
                                </div>
                                <div>
                                    <h3 className="text-2xl font-bold text-gray-900">Update Student Handbooks</h3>
                                    <p className="text-gray-600">Select a grade level to upload or update the handbook</p>
                                </div>
                            </div>
                            
                            {/* Enhanced Grade Selection */}
                            <div className="mb-8">
                                <h4 className="text-lg font-semibold text-gray-900 mb-4">Select Grade Level</h4>
                                <div className="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3">
                                    {grades.map((grade) => (
                                        <button
                                            key={grade}
                                            onClick={() => setSelectedGrade(grade)}
                                            className={`p-4 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 ${
                                                selectedGrade === grade
                                                    ? 'bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg'
                                                    : 'bg-gray-50 text-gray-700 hover:bg-gray-100 border-2 border-transparent hover:border-blue-200'
                                            } cursor-pointer`}
                                        >
                                            {grade}
                                        </button>
                                    ))}
                                </div>
                            </div>
                            
                            {/* Enhanced Upload Section */}
                            <div className="border-2 border-dashed border-blue-300 rounded-2xl p-12 text-center bg-blue-50/30 hover:bg-blue-50/50 transition-colors">
                                <div className="w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6">
                                    <i className="fas fa-cloud-upload-alt text-3xl text-blue-600"></i>
                                </div>
                                <h4 className="font-bold text-xl mb-3 text-gray-900">Upload {selectedGrade} Handbook</h4>
                                <p className="text-gray-600 mb-6 text-lg">Drag and drop PDF file or click to browse</p>
                                <input type="file" accept=".pdf" className="hidden" id="handbook-upload" />
                                <label htmlFor="handbook-upload" className="inline-flex items-center bg-gradient-to-r from-blue-600 to-blue-700 text-white px-8 py-4 rounded-xl hover:from-blue-700 hover:to-blue-800 cursor-pointer font-semibold shadow-lg hover:shadow-xl transition-all transform hover:scale-105">
                                    <i className="fas fa-folder-open mr-3"></i>Choose File
                                </label>
                            </div>
                            
                            {/* Enhanced Current Handbook */}
                            <div className="mt-8 p-6 bg-gradient-to-r from-green-50 to-emerald-50 rounded-2xl border border-green-200">
                                <div className="flex justify-between items-center">
                                    <div className="flex items-center space-x-4">
                                        <div className="w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center">
                                            <i className="fas fa-file-pdf text-green-600 text-xl"></i>
                                        </div>
                                        <div>
                                            <h4 className="font-bold text-lg text-gray-900">Current {selectedGrade} Handbook</h4>
                                            <p className="text-green-700 font-medium">Last updated: January 15, 2024 ‚Ä¢ 4.5 MB</p>
                                        </div>
                                    </div>
                                    <div className="flex space-x-3">
                                        <button className="px-6 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 cursor-pointer font-semibold shadow-md hover:shadow-lg transition-all transform hover:scale-105">
                                            <i className="fas fa-download mr-2"></i>Download
                                        </button>
                                        <button className="px-6 py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 cursor-pointer font-semibold shadow-md hover:shadow-lg transition-all transform hover:scale-105">
                                            <i className="fas fa-trash mr-2"></i>Delete
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}
                    
                    {activeTab === 'reports' && (
                        <div className="bg-white rounded-2xl shadow-lg p-8">
                            <div className="flex items-center space-x-3 mb-8">
                                <div className="w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center">
                                    <i className="fas fa-chart-line text-purple-600 text-xl"></i>
                                </div>
                                <div>
                                    <h3 className="text-2xl font-bold text-gray-900">Academic Reports</h3>
                                    <p className="text-gray-600">Generate and manage academic performance reports</p>
                                </div>
                            </div>
                            
                            <div className="grid lg:grid-cols-2 gap-8">
                                {/* Enhanced Report Generation */}
                                <div className="bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-8 border border-blue-100">
                                    <div className="flex items-center space-x-3 mb-6">
                                        <div className="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center">
                                            <i className="fas fa-plus text-blue-600"></i>
                                        </div>
                                        <h4 className="text-xl font-bold text-gray-900">Generate New Report</h4>
                                    </div>
                                    <div className="space-y-6">
                                        <div>
                                            <label className="block text-sm font-semibold text-gray-700 mb-3">Report Type</label>
                                            <select className="w-full p-4 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none transition-colors bg-white">
                                                <option>Term Report</option>
                                                <option>Mid-Year Report</option>
                                                <option>Annual Report</option>
                                                <option>Subject Performance</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label className="block text-sm font-semibold text-gray-700 mb-3">Academic Year</label>
                                            <select className="w-full p-4 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none transition-colors bg-white">
                                                <option>2024</option>
                                                <option>2023</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label className="block text-sm font-semibold text-gray-700 mb-3">Grade Level</label>
                                            <select className="w-full p-4 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none transition-colors bg-white">
                                                <option>All Grades</option>
                                                {grades.map(grade => <option key={grade}>{grade}</option>)}
                                            </select>
                                        </div>
                                        <button className="w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 rounded-xl hover:from-blue-700 hover:to-blue-800 cursor-pointer font-semibold shadow-lg hover:shadow-xl transition-all transform hover:scale-105">
                                            <i className="fas fa-file-alt mr-3"></i>Generate Report
                                        </button>
                                    </div>
                                </div>
                                
                                {/* Enhanced Recent Reports */}
                                <div className="bg-gradient-to-br from-gray-50 to-slate-50 rounded-2xl p-8 border border-gray-100">
                                    <div className="flex items-center space-x-3 mb-6">
                                        <div className="w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center">
                                            <i className="fas fa-history text-gray-600"></i>
                                        </div>
                                        <h4 className="text-xl font-bold text-gray-900">Recent Reports</h4>
                                    </div>
                                    <div className="space-y-4">
                                        {[
                                            { title: 'Term 1 Performance Report', date: '2024-04-05', type: 'Term Report', color: 'blue' },
                                            { title: 'Mid-Year Analysis 2024', date: '2024-06-15', type: 'Mid-Year', color: 'green' },
                                            { title: 'Grade 9 Final Report', date: '2024-11-29', type: 'Annual', color: 'purple' }
                                        ].map((report, index) => (
                                            <div key={index} className="bg-white p-5 rounded-xl hover:shadow-md transition-all border border-gray-100 hover:border-gray-200">
                                                <div className="flex justify-between items-start">
                                                    <div className="flex items-start space-x-3">
                                                        <div className={`w-3 h-3 rounded-full mt-2 ${
                                                            report.color === 'blue' ? 'bg-blue-500' :
                                                            report.color === 'green' ? 'bg-green-500' : 'bg-purple-500'
                                                        }`}></div>
                                                        <div>
                                                            <h5 className="font-semibold text-gray-900">{report.title}</h5>
                                                            <p className="text-sm text-gray-500 mt-1">{report.type} ‚Ä¢ {report.date}</p>
                                                        </div>
                                                    </div>
                                                    <button className="text-blue-600 hover:text-blue-800 cursor-pointer bg-transparent border-none p-2 hover:bg-blue-50 rounded-lg transition-colors">
                                                        <i className="fas fa-download"></i>
                                                    </button>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}
                    
                    {activeTab === 'awards' && (
                        <div className="bg-white rounded-2xl shadow-lg p-8">
                            <div className="flex items-center space-x-3 mb-8">
                                <div className="w-12 h-12 bg-yellow-100 rounded-xl flex items-center justify-center">
                                    <i className="fas fa-medal text-yellow-600 text-xl"></i>
                                </div>
                                <div>
                                    <h3 className="text-2xl font-bold text-gray-900">Awards & Recognition</h3>
                                    <p className="text-gray-600">Manage student awards and achievements by grade level</p>
                                </div>
                            </div>
                            
                            {/* Enhanced Grade Selection */}
                            <div className="mb-8">
                                <h4 className="text-lg font-semibold text-gray-900 mb-4">Select Grade Level</h4>
                                <div className="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3">
                                    {grades.map((grade) => (
                                        <button
                                            key={grade}
                                            onClick={() => setSelectedGrade(grade)}
                                            className={`p-4 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 ${
                                                selectedGrade === grade
                                                    ? 'bg-gradient-to-r from-yellow-500 to-orange-500 text-white shadow-lg'
                                                    : 'bg-gray-50 text-gray-700 hover:bg-gray-100 border-2 border-transparent hover:border-yellow-200'
                                            } cursor-pointer`}
                                        >
                                            {grade}
                                        </button>
                                    ))}
                                </div>
                            </div>
                            
                            <div className="grid lg:grid-cols-2 gap-8">
                                {/* Enhanced Add Award */}
                                <div className="bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl p-8 border border-green-100">
                                    <div className="flex items-center space-x-3 mb-6">
                                        <div className="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center">
                                            <i className="fas fa-plus text-green-600"></i>
                                        </div>
                                        <h4 className="text-xl font-bold text-gray-900">Add New Award - {selectedGrade}</h4>
                                    </div>
                                    <div className="space-y-5">
                                        <div>
                                            <label className="block text-sm font-semibold text-gray-700 mb-2">Student Name</label>
                                            <input type="text" placeholder="Enter student name" className="w-full p-4 border-2 border-gray-200 rounded-xl focus:border-green-500 focus:outline-none transition-colors bg-white" />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-semibold text-gray-700 mb-2">Award Type</label>
                                            <select className="w-full p-4 border-2 border-gray-200 rounded-xl focus:border-green-500 focus:outline-none transition-colors bg-white">
                                                <option>Academic Excellence</option>
                                                <option>Best Performance</option>
                                                <option>Most Improved</option>
                                                <option>Sports Achievement</option>
                                                <option>Leadership Award</option>
                                                <option>Perfect Attendance</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label className="block text-sm font-semibold text-gray-700 mb-2">Subject/Category</label>
                                            <input type="text" placeholder="e.g., Mathematics, Science" className="w-full p-4 border-2 border-gray-200 rounded-xl focus:border-green-500 focus:outline-none transition-colors bg-white" />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-semibold text-gray-700 mb-2">Date</label>
                                            <input type="date" className="w-full p-4 border-2 border-gray-200 rounded-xl focus:border-green-500 focus:outline-none transition-colors bg-white" />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-semibold text-gray-700 mb-2">Description</label>
                                            <textarea rows="3" placeholder="Award description..." className="w-full p-4 border-2 border-gray-200 rounded-xl focus:border-green-500 focus:outline-none transition-colors bg-white resize-none"></textarea>
                                        </div>
                                        <button className="w-full bg-gradient-to-r from-green-600 to-green-700 text-white p-4 rounded-xl hover:from-green-700 hover:to-green-800 cursor-pointer font-semibold shadow-lg hover:shadow-xl transition-all transform hover:scale-105">
                                            <i className="fas fa-plus mr-3"></i>Add Award
                                        </button>
                                    </div>
                                </div>
                                
                                {/* Enhanced Awards List */}
                                <div className="bg-gradient-to-br from-amber-50 to-yellow-50 rounded-2xl p-8 border border-amber-100">
                                    <div className="flex items-center space-x-3 mb-6">
                                        <div className="w-10 h-10 bg-amber-100 rounded-lg flex items-center justify-center">
                                            <i className="fas fa-trophy text-amber-600"></i>
                                        </div>
                                        <h4 className="text-xl font-bold text-gray-900">{selectedGrade} Awards</h4>
                                    </div>
                                    <div className="space-y-4">
                                        {[
                                            { student: 'John Doe', award: 'Academic Excellence', subject: 'Mathematics', date: '2024-11-26', color: 'blue' },
                                            { student: 'Jane Smith', award: 'Best Performance', subject: 'Science', date: '2024-11-26', color: 'green' },
                                            { student: 'Mike Johnson', award: 'Most Improved', subject: 'English', date: '2024-11-26', color: 'purple' }
                                        ].map((award, index) => (
                                            <div key={index} className="bg-white p-6 rounded-xl hover:shadow-md transition-all border border-gray-100 hover:border-gray-200">
                                                <div className="flex justify-between items-start">
                                                    <div className="flex items-start space-x-4">
                                                        <div className="w-12 h-12 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-xl flex items-center justify-center">
                                                            <i className="fas fa-trophy text-white text-lg"></i>
                                                        </div>
                                                        <div>
                                                            <h5 className="font-bold text-lg text-gray-900">{award.student}</h5>
                                                            <p className="text-gray-600 font-medium">{award.award}</p>
                                                            <p className="text-sm text-gray-500 mt-1">{award.subject} ‚Ä¢ {award.date}</p>
                                                        </div>
                                                    </div>
                                                    <div className="flex space-x-2">
                                                        <button className="text-blue-600 hover:text-blue-800 cursor-pointer bg-transparent border-none p-2 hover:bg-blue-50 rounded-lg transition-colors">
                                                            <i className="fas fa-edit"></i>
                                                        </button>
                                                        <button className="text-red-600 hover:text-red-800 cursor-pointer bg-transparent border-none p-2 hover:bg-red-50 rounded-lg transition-colors">
                                                            <i className="fas fa-trash"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };
        
        const NewsManager = () => {
            const [showForm, setShowForm] = useState(false);
            const [articles, setArticles] = useState([
                { id: 1, title: 'Students Win National Science Competition', status: 'Published', date: '2024-01-15', category: 'Achievement' },
                { id: 2, title: 'New STEM Lab Opening', status: 'Draft', date: '2024-01-14', category: 'Infrastructure' },
                { id: 3, title: 'Annual Sports Day Results', status: 'Published', date: '2024-01-13', category: 'Sports' }
            ]);
            const [formData, setFormData] = useState({ title: '', content: '', category: 'Achievement', status: 'Draft' });
            
            const handleSubmit = (e) => {
                e.preventDefault();
                const newArticle = {
                    id: Date.now(),
                    ...formData,
                    date: new Date().toISOString().split('T')[0]
                };
                setArticles([newArticle, ...articles]);
                setFormData({ title: '', content: '', category: 'Achievement', status: 'Draft' });
                setShowForm(false);
                showNotification('Article created successfully!', 'success');
            };
            
            const deleteArticle = (id) => {
                setArticles(articles.filter(a => a.id !== id));
                showNotification('Article deleted!', 'success');
            };
            
            return (
                <div>
                    <h2 className="text-2xl font-bold text-gray-900 mb-6">News Management</h2>
                    <div className="bg-white rounded-xl shadow p-6 mb-6">
                        <div className="flex justify-between items-center mb-4">
                            <h3 className="text-lg font-bold">Create New Article</h3>
                            <button 
                                onClick={(e) => {
                                    e.preventDefault();
                                    setShowForm(!showForm);
                                }} 
                                className="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 cursor-pointer"
                                type="button"
                            >
                                <i className="fas fa-plus mr-2"></i>{showForm ? 'Cancel' : 'New Article'}
                            </button>
                        </div>
                        
                        {showForm && (
                            <form onSubmit={handleSubmit} className="space-y-4">
                                <input
                                    type="text"
                                    placeholder="Article Title"
                                    value={formData.title}
                                    onChange={(e) => setFormData({...formData, title: e.target.value})}
                                    className="w-full p-3 border rounded-lg"
                                    required
                                />
                                <textarea
                                    placeholder="Article Content"
                                    value={formData.content}
                                    onChange={(e) => setFormData({...formData, content: e.target.value})}
                                    className="w-full p-3 border rounded-lg h-32"
                                    required
                                />
                                <div className="grid md:grid-cols-2 gap-4">
                                    <select
                                        value={formData.category}
                                        onChange={(e) => setFormData({...formData, category: e.target.value})}
                                        className="p-3 border rounded-lg"
                                    >
                                        <option value="Achievement">Achievement</option>
                                        <option value="Event">Event</option>
                                        <option value="Announcement">Announcement</option>
                                        <option value="Sports">Sports</option>
                                        <option value="Infrastructure">Infrastructure</option>
                                    </select>
                                    <select
                                        value={formData.status}
                                        onChange={(e) => setFormData({...formData, status: e.target.value})}
                                        className="p-3 border rounded-lg"
                                    >
                                        <option value="Draft">Draft</option>
                                        <option value="Published">Published</option>
                                    </select>
                                </div>
                                <button 
                                    type="submit" 
                                    className="bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 cursor-pointer"
                                >
                                    Create Article
                                </button>
                            </form>
                        )}
                    </div>
                    
                    <div className="bg-white rounded-xl shadow p-6">
                        <h3 className="text-lg font-bold mb-4">Published Articles ({articles.length})</h3>
                        <div className="space-y-3">
                            {articles.map((article) => (
                                <div key={article.id} className="flex justify-between items-center p-3 border rounded-lg">
                                    <div>
                                        <h4 className="font-medium">{article.title}</h4>
                                        <p className="text-sm text-gray-500">{article.date} ‚Ä¢ {article.category}</p>
                                    </div>
                                    <div className="flex items-center space-x-2">
                                        <span className={`px-2 py-1 text-xs rounded ${
                                            article.status === 'Published' ? 'bg-green-100 text-green-800' : 'bg-yellow-100 text-yellow-800'
                                        }`}>{article.status}</span>
                                        <button 
                                            onClick={(e) => {
                                                e.preventDefault();
                                                deleteArticle(article.id);
                                            }} 
                                            className="text-red-600 hover:text-red-800 cursor-pointer bg-transparent border-none"
                                            type="button"
                                        >
                                            <i className="fas fa-trash"></i>
                                        </button>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
            );
        };
        
        const CalendarManager = () => {
            const [events, setEvents] = useState([
                { id: 1, title: 'Mid-Term Exams', date: '2024-02-19', category: 'Academic' },
                { id: 2, title: 'Sports Day', date: '2024-03-22', category: 'Sports' },
                { id: 3, title: 'Science Fair', date: '2024-04-15', category: 'Academic' }
            ]);
            const [formData, setFormData] = useState({ title: '', date: '', category: 'Academic' });
            const [loading, setLoading] = useState(false);
            
            const handleSubmit = async (e) => {
                e.preventDefault();
                
                if (!formData.title || !formData.date) {
                    showNotification('Please fill in all required fields', 'error');
                    return;
                }
                
                setLoading(true);
                
                try {
                    const result = await apiService.post('/events', formData);
                    if (result.success) {
                        const newEvent = result.data;
                        setEvents([...events, newEvent]);
                        setFormData({ title: '', date: '', category: 'Academic' });
                        showNotification('Event added successfully to backend!', 'success');
                    } else {
                        throw new Error('Backend failed');
                    }
                } catch (error) {
                    console.warn('Backend failed, using local storage');
                    const newEvent = {
                        id: Date.now(),
                        ...formData
                    };
                    setEvents([...events, newEvent]);
                    setFormData({ title: '', date: '', category: 'Academic' });
                    showNotification('Event added successfully!', 'success');
                }
                
                setLoading(false);
            };
            
            const deleteEvent = async (id) => {
                try {
                    await apiService.delete(`/events/${id}`);
                } catch (error) {
                    console.warn('Backend delete failed, using local only');
                }
                setEvents(events.filter(e => e.id !== id));
                showNotification('Event deleted!', 'success');
            };
            
            // Load events from backend on component mount
            useEffect(() => {
                apiService.get('/events').then(data => {
                    if (data.success && data.data.length > 0) {
                        setEvents(data.data);
                    }
                });
            }, []);
            
            return (
                <div>
                    <h2 className="text-2xl font-bold text-gray-900 mb-6">Calendar Management</h2>
                    <div className="grid md:grid-cols-2 gap-6">
                        <div className="bg-white rounded-xl shadow p-6">
                            <h3 className="text-lg font-bold mb-4">Add New Event</h3>
                            <form onSubmit={handleSubmit} className="space-y-4">
                                <input
                                    type="text"
                                    placeholder="Event Title"
                                    value={formData.title}
                                    onChange={(e) => setFormData({...formData, title: e.target.value})}
                                    className="w-full p-3 border rounded-lg focus:border-blue-500 focus:outline-none"
                                    required
                                />
                                <input
                                    type="date"
                                    value={formData.date}
                                    onChange={(e) => setFormData({...formData, date: e.target.value})}
                                    className="w-full p-3 border rounded-lg"
                                    required
                                />
                                <select
                                    value={formData.category}
                                    onChange={(e) => setFormData({...formData, category: e.target.value})}
                                    className="w-full p-3 border rounded-lg"
                                >
                                    <option value="Academic">Academic</option>
                                    <option value="Sports">Sports</option>
                                    <option value="Cultural">Cultural</option>
                                    <option value="Holiday">Holiday</option>
                                </select>
                                <button 
                                    type="submit" 
                                    disabled={loading}
                                    className="w-full bg-green-600 text-white p-3 rounded-lg hover:bg-green-700 cursor-pointer disabled:opacity-50"
                                >
                                    {loading ? (
                                        <>
                                            <i className="fas fa-spinner fa-spin mr-2"></i>Adding...
                                        </>
                                    ) : (
                                        <>
                                            <i className="fas fa-plus mr-2"></i>Add Event
                                        </>
                                    )}
                                </button>
                            </form>
                        </div>
                        <div className="bg-white rounded-xl shadow p-6">
                            <h3 className="text-lg font-bold mb-4">Upcoming Events ({events.length})</h3>
                            <div className="space-y-3">
                                {events.map((event) => (
                                    <div key={event.id} className="flex justify-between items-center p-3 border rounded-lg">
                                        <div>
                                            <h4 className="font-medium">{event.title}</h4>
                                            <p className="text-sm text-gray-500">{event.date} ‚Ä¢ {event.category}</p>
                                        </div>
                                        <button onClick={() => deleteEvent(event.id)} className="text-red-600 hover:text-red-800 cursor-pointer bg-transparent border-none">
                                            <i className="fas fa-trash"></i>
                                        </button>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                </div>
            );
        };
        
        const StaffManager = () => {
            const [showForm, setShowForm] = useState(false);
            const [staff, setStaff] = useState([
                { id: 1, name: 'Dr. Sarah Johnson', position: 'Principal', department: 'Administration', email: 's.johnson@riverside.edu' },
                { id: 2, name: 'Mr. Robert Chen', position: 'Vice Principal', department: 'Administration', email: 'r.chen@riverside.edu' },
                { id: 3, name: 'Ms. Maria Garcia', position: 'Head Teacher', department: 'Pre-Primary', email: 'm.garcia@riverside.edu' }
            ]);
            const [formData, setFormData] = useState({ name: '', position: '', department: 'Administration', email: '' });
            
            const handleSubmit = (e) => {
                e.preventDefault();
                const newStaff = {
                    id: Date.now(),
                    ...formData
                };
                setStaff([...staff, newStaff]);
                setFormData({ name: '', position: '', department: 'Administration', email: '' });
                setShowForm(false);
                showNotification('Staff member added successfully!', 'success');
            };
            
            const deleteStaff = (id) => {
                setStaff(staff.filter(s => s.id !== id));
                showNotification('Staff member removed!', 'success');
            };
            
            return (
                <div>
                    <h2 className="text-2xl font-bold text-gray-900 mb-6">Staff Management</h2>
                    <div className="bg-white rounded-xl shadow p-6 mb-6">
                        <div className="flex justify-between items-center mb-4">
                            <h3 className="text-lg font-bold">Staff Directory ({staff.length})</h3>
                            <button 
                                onClick={(e) => {
                                    e.preventDefault();
                                    setShowForm(!showForm);
                                }} 
                                className="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 cursor-pointer"
                                type="button"
                            >
                                <i className="fas fa-user-plus mr-2"></i>{showForm ? 'Cancel' : 'Add Staff'}
                            </button>
                        </div>
                        
                        {showForm && (
                            <form onSubmit={handleSubmit} className="mb-6 p-4 bg-gray-50 rounded-lg">
                                <div className="grid md:grid-cols-2 gap-4 mb-4">
                                    <input
                                        type="text"
                                        placeholder="Full Name"
                                        value={formData.name}
                                        onChange={(e) => setFormData({...formData, name: e.target.value})}
                                        className="p-3 border rounded-lg"
                                        required
                                    />
                                    <input
                                        type="text"
                                        placeholder="Position"
                                        value={formData.position}
                                        onChange={(e) => setFormData({...formData, position: e.target.value})}
                                        className="p-3 border rounded-lg"
                                        required
                                    />
                                </div>
                                <div className="grid md:grid-cols-2 gap-4 mb-4">
                                    <select
                                        value={formData.department}
                                        onChange={(e) => setFormData({...formData, department: e.target.value})}
                                        className="p-3 border rounded-lg"
                                    >
                                        <option value="Administration">Administration</option>
                                        <option value="Pre-Primary">Pre-Primary</option>
                                        <option value="Primary">Primary</option>
                                        <option value="Junior Secondary">Junior Secondary</option>
                                    </select>
                                    <input
                                        type="email"
                                        placeholder="Email Address"
                                        value={formData.email}
                                        onChange={(e) => setFormData({...formData, email: e.target.value})}
                                        className="p-3 border rounded-lg"
                                        required
                                    />
                                </div>
                                <button 
                                    type="submit" 
                                    className="bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 cursor-pointer"
                                >
                                    Add Staff Member
                                </button>
                            </form>
                        )}
                        
                        <div className="space-y-3">
                            {staff.map((member) => (
                                <div key={member.id} className="flex justify-between items-center p-4 border rounded-lg">
                                    <div className="flex items-center space-x-4">
                                        <div className="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center">
                                            <i className="fas fa-user text-blue-600"></i>
                                        </div>
                                        <div>
                                            <h4 className="font-medium">{member.name}</h4>
                                            <p className="text-sm text-gray-500">{member.position} ‚Ä¢ {member.department}</p>
                                            <p className="text-sm text-gray-400">{member.email}</p>
                                        </div>
                                    </div>
                                    <button 
                                        onClick={(e) => {
                                            e.preventDefault();
                                            deleteStaff(member.id);
                                        }} 
                                        className="text-red-600 hover:text-red-800 cursor-pointer bg-transparent border-none"
                                        type="button"
                                    >
                                        <i className="fas fa-trash"></i>
                                    </button>
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
            );
        };
        
        const PoliciesManager = () => {
            const [categories, setCategories] = useState([
                { id: 1, name: 'Student Code of Conduct', count: 12, icon: 'user-graduate' },
                { id: 2, name: 'Academic Policies', count: 8, icon: 'book' },
                { id: 3, name: 'Safety & Security', count: 6, icon: 'shield-alt' },
                { id: 4, name: 'Parent Guidelines', count: 4, icon: 'users' }
            ]);
            const [showAddForm, setShowAddForm] = useState(false);
            const [editingCategory, setEditingCategory] = useState(null);
            const [formData, setFormData] = useState({ name: '', icon: 'file-alt' });
            const [showPolicyForm, setShowPolicyForm] = useState(false);
            const [editingPolicy, setEditingPolicy] = useState(null);
            const [policyData, setPolicyData] = useState({ title: '', category: '', content: '', status: 'Draft' });
            const [policies, setPolicies] = useState([
                { id: 1, title: 'Academic Integrity Policy', category: 'Academic', date: '2024-01-10', status: 'Active', content: 'Academic integrity policy content...' },
                { id: 2, title: 'Student Conduct Guidelines', category: 'Student', date: '2024-01-08', status: 'Active', content: 'Student conduct guidelines content...' },
                { id: 3, title: 'Safety Protocols', category: 'Safety', date: '2024-01-05', status: 'Draft', content: 'Safety protocols content...' }
            ]);
            
            const handleAddCategory = (e) => {
                e.preventDefault();
                const newCategory = {
                    id: Date.now(),
                    ...formData,
                    count: 0
                };
                setCategories([...categories, newCategory]);
                setFormData({ name: '', icon: 'file-alt' });
                setShowAddForm(false);
                showNotification('Category added successfully!', 'success');
            };
            
            const handleEditCategory = (category) => {
                setEditingCategory(category.id);
                setFormData({ name: category.name, icon: category.icon });
            };
            
            const handleUpdateCategory = (e) => {
                e.preventDefault();
                setCategories(categories.map(cat => 
                    cat.id === editingCategory 
                        ? { ...cat, name: formData.name, icon: formData.icon }
                        : cat
                ));
                setEditingCategory(null);
                setFormData({ name: '', icon: 'file-alt' });
                showNotification('Category updated successfully!', 'success');
            };
            
            const handleDeleteCategory = (id) => {
                setCategories(categories.filter(cat => cat.id !== id));
                showNotification('Category deleted!', 'success');
            };
            
            const handleAddPolicy = (e) => {
                e.preventDefault();
                const newPolicy = {
                    id: Date.now(),
                    ...policyData,
                    date: new Date().toISOString().split('T')[0]
                };
                setPolicies([...policies, newPolicy]);
                setPolicyData({ title: '', category: '', content: '', status: 'Draft' });
                setShowPolicyForm(false);
                showNotification('Policy created successfully!', 'success');
            };
            
            const handleEditPolicy = (policy) => {
                setEditingPolicy(policy.id);
                setPolicyData({ title: policy.title, category: policy.category, content: policy.content, status: policy.status });
                setShowPolicyForm(true);
            };
            
            const handleUpdatePolicy = (e) => {
                e.preventDefault();
                setPolicies(policies.map(pol => 
                    pol.id === editingPolicy 
                        ? { ...pol, ...policyData, date: new Date().toISOString().split('T')[0] }
                        : pol
                ));
                setEditingPolicy(null);
                setPolicyData({ title: '', category: '', content: '', status: 'Draft' });
                setShowPolicyForm(false);
                showNotification('Policy updated successfully!', 'success');
            };
            
            const handleDeletePolicy = (id) => {
                setPolicies(policies.filter(pol => pol.id !== id));
                showNotification('Policy deleted!', 'success');
            };
            
            return (
                <div>
                    <div className="flex justify-between items-center mb-6">
                        <h2 className="text-2xl font-bold text-gray-900">Policies Management</h2>
                        <div className="flex space-x-3">
                            <button 
                                onClick={() => setShowPolicyForm(!showPolicyForm)}
                                className="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 cursor-pointer"
                            >
                                <i className="fas fa-pen mr-2"></i>Write Policy
                            </button>
                            <button 
                                onClick={() => setShowAddForm(!showAddForm)}
                                className="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 cursor-pointer"
                            >
                                <i className="fas fa-plus mr-2"></i>Add Category
                            </button>
                        </div>
                    </div>
                    
                    {(showAddForm || editingCategory) && (
                        <div className="bg-white rounded-xl shadow p-6 mb-6">
                            <h3 className="text-lg font-bold mb-4">{editingCategory ? 'Edit Category' : 'Add New Category'}</h3>
                            <form onSubmit={editingCategory ? handleUpdateCategory : handleAddCategory} className="space-y-4">
                                <div>
                                    <label className="block text-sm font-medium mb-2">Category Name</label>
                                    <input
                                        type="text"
                                        value={formData.name}
                                        onChange={(e) => setFormData({...formData, name: e.target.value})}
                                        className="w-full p-3 border rounded-lg"
                                        required
                                    />
                                </div>
                                <div>
                                    <label className="block text-sm font-medium mb-2">Icon</label>
                                    <select
                                        value={formData.icon}
                                        onChange={(e) => setFormData({...formData, icon: e.target.value})}
                                        className="w-full p-3 border rounded-lg"
                                    >
                                        <option value="file-alt">Document</option>
                                        <option value="user-graduate">Student</option>
                                        <option value="book">Academic</option>
                                        <option value="shield-alt">Security</option>
                                        <option value="users">Parents</option>
                                        <option value="cog">Settings</option>
                                    </select>
                                </div>
                                <div className="flex space-x-2">
                                    <button type="submit" className="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 cursor-pointer">
                                        {editingCategory ? 'Update' : 'Add'} Category
                                    </button>
                                    <button 
                                        type="button"
                                        onClick={() => {
                                            setShowAddForm(false);
                                            setEditingCategory(null);
                                            setFormData({ name: '', icon: 'file-alt' });
                                        }}
                                        className="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 cursor-pointer"
                                    >
                                        Cancel
                                    </button>
                                </div>
                            </form>
                        </div>
                    )}
                    
                    {showPolicyForm && (
                        <div className="bg-white rounded-xl shadow p-6 mb-6">
                            <h3 className="text-lg font-bold mb-4">{editingPolicy ? 'Edit Policy' : 'Write New Policy'}</h3>
                            <form onSubmit={editingPolicy ? handleUpdatePolicy : handleAddPolicy} className="space-y-4">
                                <div className="grid md:grid-cols-2 gap-4">
                                    <div>
                                        <label className="block text-sm font-medium mb-2">Policy Title</label>
                                        <input
                                            type="text"
                                            value={policyData.title}
                                            onChange={(e) => setPolicyData({...policyData, title: e.target.value})}
                                            className="w-full p-3 border rounded-lg"
                                            required
                                        />
                                    </div>
                                    <div>
                                        <label className="block text-sm font-medium mb-2">Category</label>
                                        <select
                                            value={policyData.category}
                                            onChange={(e) => setPolicyData({...policyData, category: e.target.value})}
                                            className="w-full p-3 border rounded-lg"
                                            required
                                        >
                                            <option value="">Select Category</option>
                                            {categories.map(cat => <option key={cat.id} value={cat.name}>{cat.name}</option>)}
                                        </select>
                                    </div>
                                </div>
                                <div>
                                    <label className="block text-sm font-medium mb-2">Policy Content</label>
                                    <textarea
                                        value={policyData.content}
                                        onChange={(e) => setPolicyData({...policyData, content: e.target.value})}
                                        className="w-full p-3 border rounded-lg h-40"
                                        placeholder="Write the policy content here..."
                                        required
                                    />
                                </div>
                                <div>
                                    <label className="block text-sm font-medium mb-2">Status</label>
                                    <select
                                        value={policyData.status}
                                        onChange={(e) => setPolicyData({...policyData, status: e.target.value})}
                                        className="w-full p-3 border rounded-lg"
                                    >
                                        <option value="Draft">Draft</option>
                                        <option value="Active">Active</option>
                                    </select>
                                </div>
                                <div className="flex space-x-2">
                                    <button type="submit" className="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 cursor-pointer">
                                        {editingPolicy ? 'Update' : 'Create'} Policy
                                    </button>
                                    <button 
                                        type="button"
                                        onClick={() => {
                                            setShowPolicyForm(false);
                                            setEditingPolicy(null);
                                            setPolicyData({ title: '', category: '', content: '', status: 'Draft' });
                                        }}
                                        className="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 cursor-pointer"
                                    >
                                        Cancel
                                    </button>
                                </div>
                            </form>
                        </div>
                    )}
                    
                    <div className="grid md:grid-cols-2 gap-6">
                        <div className="bg-white rounded-xl shadow p-6">
                            <h3 className="text-lg font-bold mb-4">Policy Categories</h3>
                            <div className="space-y-3">
                                {categories.map((category) => (
                                    <div key={category.id} className="flex justify-between items-center p-3 border rounded-lg hover:bg-gray-50">
                                        <div className="flex items-center space-x-3">
                                            <i className={`fas fa-${category.icon} text-blue-600`}></i>
                                            <div>
                                                <span className="font-medium">{category.name}</span>
                                                <p className="text-sm text-gray-500">{category.count} policies</p>
                                            </div>
                                        </div>
                                        <div className="flex space-x-2">
                                            <button 
                                                onClick={() => handleEditCategory(category)}
                                                className="text-blue-600 hover:text-blue-800 cursor-pointer bg-transparent border-none p-1"
                                            >
                                                <i className="fas fa-edit"></i>
                                            </button>
                                            <button 
                                                onClick={() => handleDeleteCategory(category.id)}
                                                className="text-red-600 hover:text-red-800 cursor-pointer bg-transparent border-none p-1"
                                            >
                                                <i className="fas fa-trash"></i>
                                            </button>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>
                        
                        <div className="bg-white rounded-xl shadow p-6">
                            <h3 className="text-lg font-bold mb-4">Previous Policies</h3>
                            <div className="space-y-3">
                                {policies.map((policy) => (
                                    <div key={policy.id} className="p-3 border rounded-lg hover:bg-gray-50">
                                        <div className="flex justify-between items-start">
                                            <div>
                                                <h4 className="font-medium">{policy.title}</h4>
                                                <p className="text-sm text-gray-500">{policy.category} ‚Ä¢ {policy.date}</p>
                                                <span className={`inline-block px-2 py-1 text-xs rounded mt-1 ${
                                                    policy.status === 'Active' ? 'bg-green-100 text-green-800' : 'bg-yellow-100 text-yellow-800'
                                                }`}>{policy.status}</span>
                                            </div>
                                            <div className="flex space-x-2">
                                                <button 
                                                    onClick={() => showNotification(`Reviewing ${policy.title}...`, 'info')}
                                                    className="text-blue-600 hover:text-blue-800 cursor-pointer bg-transparent border-none p-1"
                                                    title="Review Policy"
                                                >
                                                    <i className="fas fa-eye"></i>
                                                </button>
                                                <button 
                                                    onClick={() => handleEditPolicy(policy)}
                                                    className="text-green-600 hover:text-green-800 cursor-pointer bg-transparent border-none p-1"
                                                    title="Edit Policy"
                                                >
                                                    <i className="fas fa-edit"></i>
                                                </button>
                                                <button 
                                                    onClick={() => handleDeletePolicy(policy.id)}
                                                    className="text-red-600 hover:text-red-800 cursor-pointer bg-transparent border-none p-1"
                                                    title="Delete Policy"
                                                >
                                                    <i className="fas fa-trash"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                </div>
            );
        };
        
        const ContactsManager = () => {
            const [contacts, setContacts] = useState([
                { id: 1, name: 'John Smith', email: 'john@example.com', subject: 'Admission Inquiry', date: '2024-01-15', status: 'New', message: 'Hello, I would like to inquire about admission requirements for Grade 1. What documents are needed and when is the application deadline? Thank you.' },
                { id: 2, name: 'Mary Johnson', email: 'mary@example.com', subject: 'Academic Questions', date: '2024-01-14', status: 'Replied', message: 'Can you please provide information about the curriculum for Grade 5? I am particularly interested in the science and mathematics programs.' },
                { id: 3, name: 'David Wilson', email: 'david@example.com', subject: 'General Inquiry', date: '2024-01-13', status: 'Pending', message: 'I would like to schedule a school tour. What are the available times and do I need to make an appointment in advance?' }
            ]);
            const [selectedMessage, setSelectedMessage] = useState(null);
            const [showReplyForm, setShowReplyForm] = useState(false);
            const [replyText, setReplyText] = useState('');
            
            const handleReply = (contact) => {
                setSelectedMessage(contact);
                setShowReplyForm(true);
                setReplyText('');
            };
            
            const handleView = (contact) => {
                setSelectedMessage(contact);
                setShowReplyForm(false);
            };
            
            const handleSendReply = () => {
                setContacts(contacts.map(c => 
                    c.id === selectedMessage.id 
                        ? { ...c, status: 'Replied' }
                        : c
                ));
                setSelectedMessage(null);
                setShowReplyForm(false);
                setReplyText('');
                showNotification('Reply sent successfully!', 'success');
            };
            
            const closeMessageModal = () => {
                setSelectedMessage(null);
                setShowReplyForm(false);
                setReplyText('');
            };
            
            const handleDelete = (id) => {
                console.log('Delete clicked for ID:', id);
                setContacts(contacts.filter(c => c.id !== id));
                showNotification('Contact message deleted!', 'success');
            };
            
            const handleFilter = () => {
                console.log('Filter clicked');
                showNotification('Opening filter options...', 'info');
            };
            
            const handleExport = () => {
                console.log('Export clicked');
                showNotification('Exporting contact messages...', 'success');
            };
            
            return (
                <div>
                    <h2 className="text-2xl font-bold text-gray-900 mb-6">Contacts Management</h2>
                    <div className="bg-white rounded-xl shadow p-6">
                        <div className="flex justify-between items-center mb-6">
                            <h3 className="text-lg font-bold">Contact Messages ({contacts.length})</h3>
                            <div className="flex space-x-2">
                                <button 
                                    onClick={(e) => {
                                        e.preventDefault();
                                        handleFilter();
                                    }} 
                                    className="px-4 py-2 border rounded-lg hover:bg-gray-50 cursor-pointer bg-white"
                                    type="button"
                                >
                                    <i className="fas fa-filter mr-2"></i>Filter
                                </button>
                                <button 
                                    onClick={(e) => {
                                        e.preventDefault();
                                        handleExport();
                                    }} 
                                    className="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer"
                                    type="button"
                                >
                                    <i className="fas fa-download mr-2"></i>Export
                                </button>
                            </div>
                        </div>
                        <div className="space-y-4">
                            {contacts.map((contact) => (
                                <div key={contact.id} className="p-4 border rounded-lg hover:bg-gray-50">
                                    <div className="flex justify-between items-start mb-2">
                                        <div>
                                            <h4 className="font-medium">{contact.name}</h4>
                                            <p className="text-sm text-gray-500">{contact.email}</p>
                                        </div>
                                        <div className="flex items-center space-x-2">
                                            <span className={`px-2 py-1 text-xs rounded ${
                                                contact.status === 'New' ? 'bg-blue-100 text-blue-800' :
                                                contact.status === 'Replied' ? 'bg-green-100 text-green-800' :
                                                'bg-yellow-100 text-yellow-800'
                                            }`}>{contact.status}</span>
                                            <span className="text-sm text-gray-400">{contact.date}</span>
                                        </div>
                                    </div>
                                    <p className="text-sm text-gray-600 mb-3">Subject: {contact.subject}</p>
                                    <div className="flex space-x-2">
                                        <button 
                                            onClick={(e) => {
                                                e.preventDefault();
                                                handleReply(contact);
                                            }} 
                                            className="px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 cursor-pointer"
                                            type="button"
                                        >
                                            <i className="fas fa-reply mr-1"></i>Reply
                                        </button>
                                        <button 
                                            onClick={(e) => {
                                                e.preventDefault();
                                                handleView(contact);
                                            }} 
                                            className="px-3 py-1 border text-sm rounded hover:bg-gray-50 cursor-pointer bg-white"
                                            type="button"
                                        >
                                            <i className="fas fa-eye mr-1"></i>View
                                        </button>
                                        <button 
                                            onClick={(e) => {
                                                e.preventDefault();
                                                handleDelete(contact.id);
                                            }} 
                                            className="px-3 py-1 text-red-600 text-sm hover:bg-red-50 cursor-pointer bg-transparent border-none"
                                            type="button"
                                        >
                                            <i className="fas fa-trash mr-1"></i>Delete
                                        </button>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                    
                    {/* Message Modal */}
                    {selectedMessage && (
                        <div className="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4" onClick={closeMessageModal}>
                            <div className="bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto" onClick={(e) => e.stopPropagation()}>
                                <div className="p-6 border-b">
                                    <div className="flex justify-between items-start">
                                        <div>
                                            <h3 className="text-xl font-bold">{selectedMessage.subject}</h3>
                                            <p className="text-gray-600">From: {selectedMessage.name} ({selectedMessage.email})</p>
                                            <p className="text-sm text-gray-500">{selectedMessage.date}</p>
                                        </div>
                                        <button onClick={closeMessageModal} className="text-gray-400 hover:text-gray-600 cursor-pointer bg-transparent border-none">
                                            <i className="fas fa-times text-xl"></i>
                                        </button>
                                    </div>
                                </div>
                                
                                <div className="p-6">
                                    <div className="mb-6">
                                        <h4 className="font-semibold mb-2">Message:</h4>
                                        <p className="text-gray-700 leading-relaxed">{selectedMessage.message}</p>
                                    </div>
                                    
                                    {showReplyForm && (
                                        <div>
                                            <h4 className="font-semibold mb-2">Reply:</h4>
                                            <textarea
                                                value={replyText}
                                                onChange={(e) => setReplyText(e.target.value)}
                                                className="w-full p-3 border rounded-lg h-32 mb-4"
                                                placeholder="Type your reply here..."
                                            />
                                            <div className="flex space-x-2">
                                                <button 
                                                    onClick={handleSendReply}
                                                    className="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 cursor-pointer"
                                                    disabled={!replyText.trim()}
                                                >
                                                    Send Reply
                                                </button>
                                                <button 
                                                    onClick={() => setShowReplyForm(false)}
                                                    className="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 cursor-pointer"
                                                >
                                                    Cancel
                                                </button>
                                            </div>
                                        </div>
                                    )}
                                    
                                    {!showReplyForm && (
                                        <div className="flex space-x-2">
                                            <button 
                                                onClick={() => setShowReplyForm(true)}
                                                className="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 cursor-pointer"
                                            >
                                                Reply
                                            </button>
                                            <button 
                                                onClick={closeMessageModal}
                                                className="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 cursor-pointer"
                                            >
                                                Close
                                            </button>
                                        </div>
                                    )}
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        // API Service
        const apiService = {
            baseURL: 'http://localhost:5000/api',
            
            async get(endpoint) {
                try {
                    const response = await fetch(`${this.baseURL}${endpoint}`);
                    if (!response.ok) {
                        throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                    }
                    const data = await response.json();
                    return data.success !== false ? { success: true, data: data.data || data } : data;
                } catch (error) {
                    console.warn(`API Error (${endpoint}):`, error.message);
                    return { success: false, data: [], error: error.message };
                }
            },
            
            async post(endpoint, data) {
                try {
                    const response = await fetch(`${this.baseURL}${endpoint}`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify(data)
                    });
                    if (!response.ok) {
                        throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                    }
                    return await response.json();
                } catch (error) {
                    console.warn(`API Error (${endpoint}):`, error.message);
                    return { success: false, error: error.message };
                }
            },
            
            async delete(endpoint) {
                try {
                    const response = await fetch(`${this.baseURL}${endpoint}`, {
                        method: 'DELETE'
                    });
                    if (!response.ok) {
                        throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                    }
                    return await response.json();
                } catch (error) {
                    console.warn(`API Error (${endpoint}):`, error.message);
                    return { success: false, error: error.message };
                }
            }
        };

        // Utility functions
        const scrollToSection = (sectionId) => {
            const element = document.getElementById(sectionId);
            if (element) {
                const offset = 80; // Account for fixed header
                const elementPosition = element.getBoundingClientRect().top;
                const offsetPosition = elementPosition + window.pageYOffset - offset;
                
                window.scrollTo({
                    top: offsetPosition,
                    behavior: 'smooth'
                });
            }
        };

        const showNotification = (message, type = 'info') => {
            console.log('Showing notification:', message, type);
            
            // Create notification element
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 16px 24px;
                border-radius: 8px;
                box-shadow: 0 10px 25px rgba(0,0,0,0.2);
                z-index: 9999;
                color: white;
                font-weight: 600;
                max-width: 400px;
                transform: translateX(100%);
                transition: transform 0.3s ease;
                background-color: ${
                    type === 'success' ? '#10b981' : 
                    type === 'error' ? '#ef4444' : '#3b82f6'
                };
            `;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            // Animate in
            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
            }, 10);
            
            // Remove after 4 seconds
            setTimeout(() => {
                notification.style.transform = 'translateX(100%)';
                setTimeout(() => {
                    try {
                        if (notification.parentNode) {
                            document.body.removeChild(notification);
                        }
                    } catch (error) {
                        console.warn('Error removing notification:', error);
                    }
                }, 300);
            }, 4000);
        };

        // Components
        const Header = () => {
            const [mobileMenuOpen, setMobileMenuOpen] = useState(false);
            
            const navItems = [
                { name: 'Home', path: 'home', icon: 'üè†' },
                { name: 'About', path: 'about', icon: 'üè´' },
                { name: 'Academics', path: 'academics', icon: 'üìö' },
                { name: 'News', path: 'news', icon: 'üì∞' },
                { name: 'Calendar', path: 'calendar', icon: 'üìÖ' },
                { name: 'Staff', path: 'staff', icon: 'üë•' },
                { name: 'Policies', path: 'policies', icon: 'üìÑ' },
                { name: 'Contact', path: 'contact', icon: 'üìû' }
            ];
            
            const handleNavClick = (sectionId) => {
                scrollToSection(sectionId);
                setMobileMenuOpen(false);
            };
            
            // Close mobile menu when clicking outside
            useEffect(() => {
                const handleClickOutside = (event) => {
                    if (mobileMenuOpen && !event.target.closest('.mobile-nav') && !event.target.closest('.mobile-menu-button')) {
                        setMobileMenuOpen(false);
                    }
                };
                
                document.addEventListener('click', handleClickOutside);
                return () => document.removeEventListener('click', handleClickOutside);
            }, [mobileMenuOpen]);
            
            return (
                <header className="gradient-bg text-white shadow-lg sticky top-0 z-50">
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div className="flex justify-between items-center h-16">
                            {/* Logo */}
                            <div 
                                className="flex items-center space-x-3 cursor-pointer"
                                onClick={() => scrollToSection('home')}
                            >
                                <div className="w-12 h-12 bg-white/10 backdrop-blur-sm rounded-xl flex items-center justify-center overflow-hidden border border-white/20 shadow-lg">
                                    <img src="royhill.jpg" alt="Outering Schools Logo" className="w-10 h-10 object-cover rounded-lg" />
                                </div>
                                <div>
                                    <h1 className="text-xl font-bold">The Testament School</h1>
                                    <p className="text-xs opacity-90">Excellence in Education</p>
                                </div>
                            </div>
                            
                            {/* Desktop Navigation */}
                            <nav className="hidden md:flex space-x-8">
                                {navItems.map((item) => (
                                    <button 
                                        key={item.name}
                                        onClick={() => handleNavClick(item.path)}
                                        className="hover:text-yellow-300 transition-colors duration-200 flex items-center space-x-1 bg-transparent border-none text-white cursor-pointer"
                                    >
                                        <span>{item.icon}</span>
                                        <span>{item.name}</span>
                                    </button>
                                ))}
                                <button 
                                    onClick={() => window.location.hash = '#/login'}
                                    className="bg-white/10 hover:bg-white/20 px-4 py-2 rounded-lg transition-colors duration-200 flex items-center space-x-2 border-none text-white cursor-pointer"
                                >
                                    <i className="fas fa-user-shield"></i>
                                    <span>Admin</span>
                                </button>
                            </nav>
                            
                            {/* Mobile Menu Button */}
                            <button 
                                className="mobile-menu-button md:hidden text-2xl bg-transparent border-none text-white cursor-pointer"
                                onClick={() => setMobileMenuOpen(!mobileMenuOpen)}
                            >
                                {mobileMenuOpen ? '‚úï' : '‚ò∞'}
                            </button>
                        </div>
                    </div>
                    
                    {/* Mobile Navigation Overlay */}
                    <div 
                        className={`mobile-menu-overlay md:hidden ${mobileMenuOpen ? 'open' : ''}`}
                        onClick={() => setMobileMenuOpen(false)}
                    ></div>
                    
                    {/* Mobile Navigation */}
                    <div className={`mobile-nav md:hidden fixed top-16 left-0 w-64 h-full gradient-bg shadow-xl z-50 ${mobileMenuOpen ? 'open' : ''}`}>
                        <div className="p-6">
                            {navItems.map((item) => (
                                <button 
                                    key={item.name}
                                    onClick={() => handleNavClick(item.path)}
                                    className="block w-full text-left py-3 px-4 hover:bg-white/10 rounded-lg mb-2 flex items-center space-x-3 bg-transparent border-none text-white cursor-pointer"
                                >
                                    <span className="text-xl">{item.icon}</span>
                                    <span>{item.name}</span>
                                </button>
                            ))}
                        </div>
                    </div>
                </header>
            );
        };

        const HeroSection = () => {
            return (
                <section id="home" className="relative overflow-hidden">
                    <div className="absolute inset-0 bg-gradient-to-br from-green-900 via-emerald-900 to-green-800 z-0"></div>
                    <div className="absolute inset-0 bg-[url('https://images.unsplash.com/photo-1523050854058-8df90110c9f1?auto=format&fit=crop&w=1920')] bg-cover bg-center opacity-20 z-0"></div>
                    <div className="absolute inset-0 bg-gradient-to-t from-black/30 to-transparent z-0"></div>
                    
                    <div className="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-28 lg:py-40">
                        <div className="text-center text-white fade-in">
                            <div className="inline-block mb-6 px-6 py-2 bg-white/10 backdrop-blur-md rounded-full border border-white/20">
                                <span className="text-yellow-300 font-semibold">‚ú® Working Together Achieving Together Since 1995</span>
                            </div>
                            <h1 className="text-5xl lg:text-7xl font-extrabold mb-6 leading-tight">
                                Shaping Future <span className="bg-gradient-to-r from-lime-300 to-green-400 bg-clip-text text-transparent">Leaders</span>
                            </h1>
                            <p className="text-xl lg:text-2xl mb-12 max-w-3xl mx-auto opacity-95 leading-relaxed">
                                At Outering Schools, we nurture excellence, foster innovation, and build character through holistic education.
                            </p>
                            <div className="flex flex-col sm:flex-row gap-6 justify-center">
                                <button 
                                    onClick={() => scrollToSection('contact')}
                                    className="bg-white text-green-700 px-10 py-5 rounded-2xl font-bold text-lg hover:bg-gray-100 transform hover:-translate-y-2 hover:scale-105 transition-all duration-300 shadow-2xl cursor-pointer pulse-glow"
                                >
                                    <i className="fas fa-phone-alt mr-3"></i> Contact Us
                                </button>
                                <button 
                                    onClick={() => window.location.hash = '#/login'}
                                    className="bg-white/10 backdrop-blur-md border-2 border-white/30 text-white px-10 py-5 rounded-2xl font-bold text-lg hover:bg-white hover:text-green-700 transform hover:-translate-y-2 hover:scale-105 transition-all duration-300 shadow-2xl cursor-pointer"
                                >
                                    <i className="fas fa-user-shield mr-3"></i> Admin Panel
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    {/* Stats Section */}
                    <div className="relative z-10 bg-white/10 backdrop-blur-sm py-8">
                        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                            <div className="grid grid-cols-2 md:grid-cols-4 gap-6">
                                {[
                                    { number: '950+', label: 'Students', icon: 'üë®‚Äçüéì' },
                                    { number: '65+', label: 'Faculty Members', icon: 'üë©‚Äçüè´' },
                                    { number: '1995', label: 'Established', icon: 'üèõÔ∏è' },
                                    { number: '98%', label: 'Success Rate', icon: 'üìà' }
                                ].map((stat, index) => (
                                    <div key={index} className="text-center text-white">
                                        <div className="text-4xl mb-2">{stat.icon}</div>
                                        <div className="text-3xl font-bold">{stat.number}</div>
                                        <div className="text-sm opacity-90">{stat.label}</div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                </section>
            );
        };

        const AboutSection = () => {
            const [aboutData, setAboutData] = useState(null);
            
            useEffect(() => {
                apiService.get('/about').then(data => {
                    if (data.success) setAboutData(data.data);
                });
            }, []);
            
            return (
                <section id="about" className="py-16 bg-gray-50">
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div className="text-center mb-16">
                            <div className="inline-block mb-4 px-4 py-2 bg-green-100 text-green-700 rounded-full font-semibold text-sm">
                                üè´ ABOUT OUTERING SCHOOLS
                            </div>
                            <h2 className="text-5xl font-extrabold text-gray-900 mb-6 bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent">
                                About Our School
                            </h2>
                            <div className="w-32 h-1.5 bg-gradient-to-r from-green-600 to-emerald-600 mx-auto mb-8 rounded-full"></div>
                            <p className="text-xl text-gray-600 max-w-4xl mx-auto leading-relaxed">
                                A legacy of excellence in education since 1995, shaping minds and building futures
                            </p>
                        </div>
                        
                        <div className="grid md:grid-cols-2 gap-16 items-center">
                            <div className="slide-in-left">
                                <div className="bg-white rounded-3xl shadow-2xl overflow-hidden card-hover relative">
                                    <div className="absolute top-4 right-4 w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center text-white text-xl z-10">
                                        üéØ
                                    </div>
                                    <img 
                                        src="ourVision.jpg"
                                        alt="Our Vision"
                                        className="w-full h-72 object-cover"
                                    />
                                    <div className="p-8">
                                        <h3 className="text-3xl font-bold text-gray-900 mb-4 bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent">
                                            Our Vision
                                        </h3>
                                        <p className="text-gray-600 leading-relaxed text-lg">
                                            To be a premier educational institution that nurtures global citizens, 
                                            innovative thinkers, and compassionate leaders for a better tomorrow.
                                        </p>
                                    </div>
                                </div>
                            </div>
                            
                            <div className="slide-in-right">
                                <h3 className="text-4xl font-extrabold text-gray-900 mb-8 bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent">
                                    Why Choose Outering Schools?
                                </h3>
                                <div className="space-y-8">
                                    {[
                                        { icon: 'üèÜ', title: 'Academic Excellence', desc: 'Consistent top rankings in national examinations', color: 'from-yellow-400 to-orange-500' },
                                        { icon: 'ü§ù', title: 'Holistic Development', desc: 'Balanced focus on academics, sports, and arts', color: 'from-green-400 to-blue-500' },
                                        { icon: 'üåç', title: 'Global Perspective', desc: 'International curriculum and exchange programs', color: 'from-purple-400 to-pink-500' },
                                        { icon: 'üíª', title: 'Tech-Enabled Learning', desc: 'Modern facilities with smart classrooms', color: 'from-blue-400 to-indigo-500' }
                                    ].map((item, index) => (
                                        <div key={index} className="flex items-start space-x-6 group">
                                            <div className={`bg-gradient-to-br ${item.color} p-4 rounded-2xl shadow-lg group-hover:scale-110 transition-transform duration-300`}>
                                                <span className="text-3xl">{item.icon}</span>
                                            </div>
                                            <div className="flex-1">
                                                <h4 className="font-bold text-xl text-gray-900 mb-2">{item.title}</h4>
                                                <p className="text-gray-600 text-lg leading-relaxed">{item.desc}</p>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            );
        };

        const AcademicsSection = () => {
            const [programs, setPrograms] = useState([]);
            
            useEffect(() => {
                apiService.get('/academics').then(data => {
                    if (data.success) setPrograms(data.data);
                });
            }, []);
            
            const handleLearnMore = (programTitle) => {
                showNotification(`Loading details for ${programTitle}...`, 'info');
                // In a real app, you would navigate to a detailed page or open a modal
                setTimeout(() => {
                    showNotification(`${programTitle} details loaded`, 'success');
                }, 1000);
            };
            
            return (
                <section id="academics" className="py-16 bg-white">
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div className="text-center mb-16">
                            <div className="inline-block mb-4 px-4 py-2 bg-green-100 text-green-700 rounded-full font-semibold text-sm">
                                üìö ACADEMIC EXCELLENCE
                            </div>
                            <h2 className="text-5xl font-extrabold text-gray-900 mb-6 bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent">
                                Academic Programs
                            </h2>
                            <div className="w-32 h-1.5 bg-gradient-to-r from-green-600 to-blue-600 mx-auto mb-8 rounded-full"></div>
                            <p className="text-xl text-gray-600 max-w-4xl mx-auto leading-relaxed">
                                Comprehensive curriculum from PP1 to Grade 9, designed to nurture every child's potential
                            </p>
                        </div>
                        
                        <div className="grid md:grid-cols-3 gap-8">
                            {[
                                {
                                    title: 'Pre-Primary (PP1 & PP2)',
                                    icon: 'üë∂',
                                    description: 'Play-based learning focusing on social, emotional, and cognitive development',
                                    features: ['Language Development', 'Basic Numeracy', 'Art & Craft', 'Physical Activities', 'Social Skills']
                                },
                                {
                                    title: 'Primary School (Grades 1-5)',
                                    icon: 'üßí',
                                    description: 'Foundational education with emphasis on core subjects and character building',
                                    features: ['English & Kiswahili', 'Mathematics', 'Science', 'Social Studies', 'Creative Arts']
                                },
                                {
                                    title: 'Junior Secondary (Grades 6-9)',
                                    icon: 'üßë‚Äçüéì',
                                    description: 'Comprehensive curriculum preparing students for secondary education',
                                    features: ['Core Subjects', 'Languages', 'Sciences', 'Humanities', 'Technical Subjects']
                                }
                            ].map((program, index) => (
                                <div key={index} className="bg-gray-50 rounded-xl p-8 card-hover border border-gray-200">
                                    <div className="text-5xl mb-6 text-center">{program.icon}</div>
                                    <h3 className="text-2xl font-bold text-gray-900 mb-4 text-center">{program.title}</h3>
                                    <p className="text-gray-600 mb-6 text-center">{program.description}</p>
                                    <ul className="space-y-3">
                                        {program.features.map((feature, idx) => (
                                            <li key={idx} className="flex items-center">
                                                <i className="fas fa-check text-green-500 mr-3"></i>
                                                <span>{feature}</span>
                                            </li>
                                        ))}
                                    </ul>
                                    <button 
                                        onClick={() => handleLearnMore(program.title)}
                                        className="mt-6 w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition cursor-pointer"
                                    >
                                        Learn More
                                    </button>
                                </div>
                            ))}
                        </div>
                        
                        {/* Curriculum Details */}
                        <div className="mt-16 bg-gray-50 rounded-xl p-8">
                            <h3 className="text-2xl font-bold text-gray-900 mb-6 text-center">Detailed Curriculum Structure</h3>
                            <div className="overflow-x-auto">
                                <table className="min-w-full bg-white rounded-lg overflow-hidden">
                                    <thead>
                                        <tr className="bg-blue-600 text-white">
                                            <th className="py-3 px-4 text-left">Grade Level</th>
                                            <th className="py-3 px-4 text-left">Core Subjects</th>
                                            <th className="py-3 px-4 text-left">Elective Subjects</th>
                                            <th className="py-3 px-4 text-left">Co-curricular Activities</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr className="border-b border-gray-200 hover:bg-blue-50">
                                            <td className="py-3 px-4 font-semibold">PP1 & PP2</td>
                                            <td className="py-3 px-4">Language, Mathematics, Environmental Activities</td>
                                            <td className="py-3 px-4">Music, Art & Craft, Physical Education</td>
                                            <td className="py-3 px-4">Play Activities, Story Time, Rhymes</td>
                                        </tr>
                                        <tr className="border-b border-gray-200 hover:bg-blue-50">
                                            <td className="py-3 px-4 font-semibold">Grades 1-3</td>
                                            <td className="py-3 px-4">English, Kiswahili, Mathematics, Environmental Activities</td>
                                            <td className="py-3 px-4">Art & Craft, Music, Religious Education</td>
                                            <td className="py-3 px-4">Games, Clubs, Guidance & Counseling</td>
                                        </tr>
                                        <tr className="border-b border-gray-200 hover:bg-blue-50">
                                            <td className="py-3 px-4 font-semibold">Grades 4-5</td>
                                            <td className="py-3 px-4">English, Kiswahili, Mathematics, Science, Social Studies</td>
                                            <td className="py-3 px-4">Creative Arts, Religious Education, Home Science</td>
                                            <td className="py-3 px-4">Sports, Music, Drama, Debating</td>
                                        </tr>
                                        <tr className="hover:bg-blue-50">
                                            <td className="py-3 px-4 font-semibold">Grades 6-9</td>
                                            <td className="py-3 px-4">English, Kiswahili, Mathematics, Integrated Science, Social Studies</td>
                                            <td className="py-3 px-4">Business Studies, Agriculture, Computer Studies, French</td>
                                            <td className="py-3 px-4">Sports, Clubs, Leadership Training, Community Service</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </section>
            );
        };

        const NewsSection = () => {
            const [news, setNews] = useState([]);
            const [loading, setLoading] = useState(true);
            const [selectedArticle, setSelectedArticle] = useState(null);
            
            useEffect(() => {
                apiService.get('/news?limit=3').then(data => {
                    if (data.success) setNews(data.data);
                    setLoading(false);
                });
            }, []);
            
            const handleReadMore = (article) => {
                setSelectedArticle(article);
            };
            
            const closeArticleModal = () => {
                setSelectedArticle(null);
            };
            
            const handleViewAll = () => {
                apiService.get('/news').then(data => {
                    if (data.success && data.data.length > 0) {
                        setNews(data.data);
                        showNotification('All news articles loaded!', 'success');
                    } else {
                        showNotification('No additional news articles found', 'info');
                    }
                });
            };
            
            return (
                <section id="news" className="py-16 bg-gray-50">
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div className="flex justify-between items-center mb-12">
                            <div>
                                <h2 className="text-4xl font-bold text-gray-900 mb-2">Latest News & Announcements</h2>
                                <p className="text-gray-600">Stay updated with school events and achievements</p>
                            </div>
                            <button 
                                onClick={handleViewAll}
                                className="text-blue-600 font-semibold hover:underline bg-transparent border-none cursor-pointer"
                            >
                                View All <i className="fas fa-arrow-right ml-1"></i>
                            </button>
                        </div>
                        
                        {loading ? (
                            <div className="text-center py-12">
                                <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"></div>
                                <p className="mt-4 text-gray-600">Loading news...</p>
                            </div>
                        ) : (
                            <div className="grid md:grid-cols-3 gap-8">
                                {news.length > 0 ? news.map((item, index) => (
                                    <div key={index} className="bg-white rounded-xl shadow-md overflow-hidden card-hover">
                                        <div className="p-6">
                                            <div className="flex items-center justify-between mb-4">
                                                <span className="px-3 py-1 bg-blue-100 text-blue-700 text-sm font-semibold rounded-full">
                                                    {item.category || 'News'}
                                                </span>
                                                <span className="text-sm text-gray-500">
                                                    {new Date(item.publishDate).toLocaleDateString()}
                                                </span>
                                            </div>
                                            <h3 className="text-xl font-bold text-gray-900 mb-3">{item.title}</h3>
                                            <p className="text-gray-600 mb-4 line-clamp-3">
                                                {item.excerpt || item.content?.substring(0, 150)}
                                            </p>
                                            <div className="flex items-center justify-between">
                                                <span className="text-sm text-gray-500">By {item.author}</span>
                                                <button 
                                                    onClick={() => handleReadMore(item)}
                                                    className="text-blue-600 hover:text-blue-800 font-medium bg-transparent border-none cursor-pointer"
                                                >
                                                    Read More <i className="fas fa-arrow-right ml-1"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                )) : (
                                    // Fallback demo news with full content
                                    [
                                        {
                                            title: 'Students Win National Science Competition',
                                            excerpt: 'Our senior students took first place in the National Science Olympiad with their innovative renewable energy project.',
                                            content: `<h3>Riverside Academy Students Excel at National Science Olympiad</h3><p>We are thrilled to announce that our Grade 8 and 9 students have achieved remarkable success at the National Science Olympiad, securing first place with their groundbreaking renewable energy project.</p><h4>The Winning Project</h4><p>The team, consisting of Sarah Mwangi (Grade 9), John Kamau (Grade 8), and Amina Hassan (Grade 8), developed an innovative solar-powered water purification system that can provide clean drinking water for rural communities.</p><h4>Project Features:</h4><ul><li>Solar-powered filtration system</li><li>Low-cost materials (under $50 per unit)</li><li>Portable and easy to maintain</li><li>Capable of purifying 20 liters per hour</li></ul><h4>Competition Details</h4><p>The National Science Olympiad brought together over 200 teams from schools across the country. Our students competed in the Environmental Science category and impressed judges with both their technical innovation and presentation skills.</p><h4>Recognition and Awards</h4><p>In addition to the first-place trophy, the team received:</p><ul><li>$5,000 scholarship fund</li><li>Invitation to represent Kenya at the International Science Fair</li><li>Mentorship opportunity with leading environmental scientists</li></ul><p>We congratulate our students and their supervising teacher, Mr. David Ochieng, for this outstanding achievement. This victory reflects our commitment to STEM education and innovation.</p>`,
                                            category: 'Achievement',
                                            publishDate: new Date().toISOString(),
                                            author: 'Admin',
                                            readTime: '3 min read',
                                            tags: ['Science', 'Competition', 'STEM', 'Achievement']
                                        },
                                        {
                                            title: 'New STEM Lab Opening Next Month',
                                            excerpt: 'State-of-the-art STEM facility with robotics lab, 3D printers, and advanced scientific equipment.',
                                            content: `<h3>Riverside Academy Unveils State-of-the-Art STEM Laboratory</h3><p>We are excited to announce the upcoming opening of our new STEM laboratory, scheduled for next month. This cutting-edge facility represents a significant investment in our students' future and our commitment to excellence in science, technology, engineering, and mathematics education.</p><h4>Facility Overview</h4><p>The new 500-square-meter STEM lab is equipped with the latest technology and equipment to provide hands-on learning experiences for students from Grade 4 to Grade 9.</p><h4>Key Features:</h4><ul><li><strong>Robotics Section:</strong> 20 programmable robots for coding and engineering projects</li><li><strong>3D Printing Station:</strong> 5 professional-grade 3D printers for prototyping</li><li><strong>Electronics Workshop:</strong> Circuit boards, sensors, and microcontrollers</li><li><strong>Digital Microscopy:</strong> High-resolution microscopes with digital imaging</li><li><strong>Virtual Reality Corner:</strong> VR headsets for immersive learning experiences</li></ul><h4>Educational Impact</h4><p>The STEM lab will support our enhanced curriculum with:</p><ul><li>Project-based learning opportunities</li><li>Coding and programming classes</li><li>Engineering design challenges</li><li>Scientific research projects</li><li>Technology integration across subjects</li></ul><h4>Opening Ceremony</h4><p>The official opening ceremony will take place on March 15th, 2024, at 10:00 AM. Parents, students, and community members are invited to tour the facility and witness demonstrations by our students.</p><p>This investment in STEM education ensures our students are prepared for the challenges and opportunities of the 21st century.</p>`,
                                            category: 'Infrastructure',
                                            publishDate: new Date().toISOString(),
                                            author: 'Principal',
                                            readTime: '4 min read',
                                            tags: ['STEM', 'Technology', 'Infrastructure', 'Education']
                                        },
                                        {
                                            title: 'Annual Sports Day Results',
                                            excerpt: 'Congratulations to all participants. See the complete results and photos from our annual sports event.',
                                            content: `<h3>Annual Sports Day 2024: A Day of Excellence and Team Spirit</h3><p>Our Annual Sports Day held on February 23rd, 2024, was a tremendous success, showcasing the athletic talents and competitive spirit of our students across all grade levels.</p><h4>Event Highlights</h4><p>Over 800 students participated in various track and field events, team sports, and fun activities throughout the day. The weather was perfect, and the enthusiasm was infectious!</p><h4>House Competition Results:</h4><ol><li><strong>Blue House</strong> - 450 points (Champions!)</li><li><strong>Red House</strong> - 420 points</li><li><strong>Green House</strong> - 395 points</li><li><strong>Yellow House</strong> - 380 points</li></ol><h4>Outstanding Individual Performances:</h4><ul><li><strong>Grace Wanjiku (Grade 7):</strong> 100m sprint champion (13.2 seconds)</li><li><strong>Michael Otieno (Grade 9):</strong> Long jump record holder (5.8 meters)</li><li><strong>Fatuma Ali (Grade 6):</strong> Shot put champion</li><li><strong>David Maina (Grade 8):</strong> 1500m distance running champion</li></ul><h4>Team Sports Results:</h4><ul><li><strong>Football:</strong> Grade 9A defeated Grade 9B (2-1)</li><li><strong>Netball:</strong> Grade 8 girls champions</li><li><strong>Basketball:</strong> Grade 7 boys victorious</li><li><strong>Volleyball:</strong> Mixed Grade 6 team winners</li></ul><h4>Special Recognition</h4><p>Special awards were presented for:</p><ul><li><strong>Best Sportsmanship:</strong> Grade 5 students</li><li><strong>Most Improved Athlete:</strong> Kevin Mutua (Grade 4)</li><li><strong>Team Spirit Award:</strong> Yellow House</li></ul><h4>Parent and Community Involvement</h4><p>We were delighted to welcome over 300 parents and community members who cheered on our athletes. The parent-teacher relay race was a particular highlight, with the teachers narrowly winning!</p><p>Thank you to all students, parents, teachers, and volunteers who made this event a memorable success. Photos and videos from the event are available on our school website.</p>`,
                                            category: 'Sports',
                                            publishDate: new Date().toISOString(),
                                            author: 'Sports Dept',
                                            readTime: '5 min read',
                                            tags: ['Sports', 'Competition', 'Community', 'Students']
                                        }
                                    ].map((item, index) => (
                                        <div key={index} className="bg-white rounded-xl shadow-md overflow-hidden card-hover">
                                            <div className="p-6">
                                                <div className="flex items-center justify-between mb-4">
                                                    <span className="px-3 py-1 bg-blue-100 text-blue-700 text-sm font-semibold rounded-full">
                                                        {item.category}
                                                    </span>
                                                    <span className="text-sm text-gray-500">
                                                        {new Date(item.publishDate).toLocaleDateString()}
                                                    </span>
                                                </div>
                                                <h3 className="text-xl font-bold text-gray-900 mb-3">{item.title}</h3>
                                                <p className="text-gray-600 mb-4">{item.excerpt}</p>
                                                <div className="flex items-center justify-between">
                                                    <span className="text-sm text-gray-500">By {item.author}</span>
                                                    <button 
                                                        onClick={() => handleReadMore(item)}
                                                        className="text-blue-600 hover:text-blue-800 font-medium bg-transparent border-none cursor-pointer"
                                                    >
                                                        Read More <i className="fas fa-arrow-right ml-1"></i>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    ))
                                )}
                            </div>
                        )}
                    </div>
                    
                    {/* Article Modal */}
                    {selectedArticle && (
                        <div className="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4" onClick={closeArticleModal}>
                            <div className="bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto" onClick={(e) => e.stopPropagation()}>
                                <div className="sticky top-0 bg-white border-b border-gray-200 p-6 flex justify-between items-start">
                                    <div className="flex-1">
                                        <div className="flex items-center space-x-3 mb-3">
                                            <span className="px-3 py-1 bg-blue-100 text-blue-700 text-sm font-semibold rounded-full">
                                                {selectedArticle.category}
                                            </span>
                                            <span className="text-sm text-gray-500">
                                                {selectedArticle.readTime || '3 min read'}
                                            </span>
                                        </div>
                                        <h1 className="text-3xl font-bold text-gray-900 mb-2">{selectedArticle.title}</h1>
                                        <div className="flex items-center text-sm text-gray-500 space-x-4">
                                            <span>By {selectedArticle.author}</span>
                                            <span>‚Ä¢</span>
                                            <span>{new Date(selectedArticle.publishDate).toLocaleDateString('en-US', { 
                                                year: 'numeric', 
                                                month: 'long', 
                                                day: 'numeric' 
                                            })}</span>
                                        </div>
                                    </div>
                                    <button 
                                        onClick={closeArticleModal}
                                        className="text-gray-400 hover:text-gray-600 text-2xl ml-4 bg-transparent border-none cursor-pointer"
                                    >
                                        <i className="fas fa-times"></i>
                                    </button>
                                </div>
                                
                                <div className="p-6">
                                    <div className="prose max-w-none text-gray-700 leading-relaxed" style={{fontSize: '16px', lineHeight: '1.8'}}>
                                        <div dangerouslySetInnerHTML={{ __html: selectedArticle.content || selectedArticle.excerpt }} />
                                    </div>
                                    
                                    {selectedArticle.tags && (
                                        <div className="mt-8 pt-6 border-t border-gray-200">
                                            <h4 className="font-semibold text-gray-900 mb-3">Tags:</h4>
                                            <div className="flex flex-wrap gap-2">
                                                {selectedArticle.tags.map((tag, index) => (
                                                    <span key={index} className="px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-full">
                                                        {tag}
                                                    </span>
                                                ))}
                                            </div>
                                        </div>
                                    )}
                                    
                                    <div className="mt-8 pt-6 border-t border-gray-200 flex flex-col sm:flex-row gap-4">
                                        <button 
                                            onClick={() => {
                                                showNotification('Article shared successfully!', 'success');
                                            }}
                                            className="flex-1 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition font-semibold cursor-pointer"
                                        >
                                            <i className="fas fa-share mr-2"></i> Share Article
                                        </button>
                                        <button 
                                            onClick={() => {
                                                showNotification('Article saved to reading list!', 'success');
                                            }}
                                            className="flex-1 border-2 border-blue-600 text-blue-600 px-6 py-3 rounded-lg hover:bg-blue-50 transition font-semibold cursor-pointer"
                                        >
                                            <i className="fas fa-bookmark mr-2"></i> Save Article
                                        </button>
                                        <button 
                                            onClick={() => {
                                                window.print();
                                            }}
                                            className="flex-1 border-2 border-gray-300 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-50 transition font-semibold cursor-pointer"
                                        >
                                            <i className="fas fa-print mr-2"></i> Print
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}
                </section>
            );
        };

        // COMPREHENSIVE CALENDAR SECTION
        const CalendarSection = () => {
            const [events, setEvents] = useState([]);
            const [filteredEvents, setFilteredEvents] = useState([]);
            const [activeFilters, setActiveFilters] = useState(['all']);
            const [selectedEvent, setSelectedEvent] = useState(null);
            const calendarRef = useRef(null);
            
            // Event categories with colors
            const eventCategories = {
                'all': { name: 'All Events', color: '#3b82f6', bgColor: '#3b82f6' },
                'term': { name: 'Term Dates', color: '#1e40af', bgColor: '#1e40af' },
                'exam': { name: 'Examinations', color: '#dc2626', bgColor: '#dc2626' },
                'holiday': { name: 'Holidays', color: '#059669', bgColor: '#059669' },
                'sports': { name: 'Sports', color: '#7c3aed', bgColor: '#7c3aed' },
                'cultural': { name: 'Cultural', color: '#db2777', bgColor: '#db2777' },
                'academic': { name: 'Academic', color: '#ea580c', bgColor: '#ea580c' },
                'parent': { name: 'Parent Events', color: '#0d9488', bgColor: '#0d9488' },
                'pp1-pp2': { name: 'Pre-Primary', color: '#65a30d', bgColor: '#65a30d' },
                'primary': { name: 'Primary', color: '#ca8a04', bgColor: '#ca8a04' },
                'secondary': { name: 'Secondary', color: '#9333ea', bgColor: '#9333ea' }
            };
            
            // Comprehensive school calendar data
            const comprehensiveCalendar = [
                // JANUARY
                {
                    title: 'First Term Begins',
                    start: '2025-01-08',
                    end: '2025-01-08',
                    category: 'term',
                    description: 'First day of school for all students. School assembly at 7:30 AM.',
                    location: 'School Assembly Ground',
                    time: '7:30 AM',
                    grades: 'All Grades',
                    importance: 'high'
                },
                {
                    title: 'New Students Orientation',
                    start: '2024-01-09',
                    end: '2024-01-09',
                    category: 'academic',
                    description: 'Orientation program for new students and parents.',
                    location: 'School Hall',
                    time: '9:00 AM - 12:00 PM',
                    grades: 'New Students Only',
                    importance: 'medium'
                },
                {
                    title: 'PP1 & PP2 Parent Meeting',
                    start: '2024-01-12',
                    end: '2024-01-12',
                    category: 'parent',
                    description: 'Meeting with parents of pre-primary students to discuss routines.',
                    location: 'Pre-Primary Wing',
                    time: '8:00 AM',
                    grades: 'PP1, PP2',
                    importance: 'medium'
                },
                {
                    title: 'Club Registration Begins',
                    start: '2024-01-15',
                    end: '2024-01-19',
                    category: 'academic',
                    description: 'Students can register for various clubs and societies.',
                    location: 'Club Notice Board',
                    time: 'All Week',
                    grades: 'All Grades',
                    importance: 'low'
                },
                {
                    title: 'Swimming Trials',
                    start: '2024-01-18',
                    end: '2024-01-18',
                    category: 'sports',
                    description: 'Selection trials for school swimming team.',
                    location: 'School Swimming Pool',
                    time: '3:00 PM - 5:00 PM',
                    grades: 'Grades 4-9',
                    importance: 'low'
                },
                
                // FEBRUARY
                {
                    title: 'Career Day',
                    start: '2024-02-02',
                    end: '2024-02-02',
                    category: 'academic',
                    description: 'Professionals from various fields interact with students.',
                    location: 'School Hall',
                    time: '10:00 AM - 2:00 PM',
                    grades: 'Grades 6-9',
                    importance: 'medium'
                },
                {
                    title: 'Math Olympiad Registration',
                    start: '2024-02-05',
                    end: '2024-02-09',
                    category: 'academic',
                    description: 'Registration for inter-school mathematics competition.',
                    location: 'Mathematics Department',
                    time: 'Break Time',
                    grades: 'Grades 4-9',
                    importance: 'low'
                },
                {
                    title: 'Valentines Day Charity Drive',
                    start: '2024-02-14',
                    end: '2024-02-14',
                    category: 'cultural',
                    description: 'Charity drive and awareness program.',
                    location: 'School Compound',
                    time: 'All Day',
                    grades: 'All Grades',
                    importance: 'medium'
                },
                {
                    title: 'Mid-Term Tests Begin',
                    start: '2024-02-19',
                    end: '2024-02-23',
                    category: 'exam',
                    description: 'Mid-term examinations for all classes.',
                    location: 'Classrooms',
                    time: 'Regular School Hours',
                    grades: 'All Grades',
                    importance: 'high'
                },
                {
                    title: 'Mid-Term Break',
                    start: '2024-02-26',
                    end: '2024-03-01',
                    category: 'holiday',
                    description: 'One week break for all students.',
                    location: '',
                    time: '',
                    grades: 'All Grades',
                    importance: 'high'
                },
                
                // MARCH
                {
                    title: 'School Reopens',
                    start: '2024-03-04',
                    end: '2024-03-04',
                    category: 'term',
                    description: 'School resumes after mid-term break.',
                    location: 'Classrooms',
                    time: '7:30 AM',
                    grades: 'All Grades',
                    importance: 'high'
                },
                {
                    title: 'Science Fair Preparation',
                    start: '2024-03-11',
                    end: '2024-03-15',
                    category: 'academic',
                    description: 'Students prepare projects for annual science fair.',
                    location: 'Science Labs',
                    time: 'After School',
                    grades: 'All Grades',
                    importance: 'medium'
                },
                {
                    title: 'Annual Sports Day',
                    start: '2024-03-22',
                    end: '2024-03-22',
                    category: 'sports',
                    description: 'Inter-house sports competition with track and field events.',
                    location: 'School Sports Field',
                    time: '8:00 AM - 4:00 PM',
                    grades: 'All Grades',
                    importance: 'high'
                },
                {
                    title: 'Parent-Teacher Meetings',
                    start: '2024-03-25',
                    end: '2024-03-28',
                    category: 'parent',
                    description: 'Individual meetings with teachers to discuss student progress.',
                    location: 'Classrooms',
                    time: '3:00 PM - 5:00 PM',
                    grades: 'All Grades',
                    importance: 'high'
                },
                {
                    title: 'End of Term Exams',
                    start: '2024-03-25',
                    end: '2024-03-29',
                    category: 'exam',
                    description: 'First term final examinations.',
                    location: 'Classrooms',
                    time: 'Regular School Hours',
                    grades: 'All Grades',
                    importance: 'high'
                },
                
                // APRIL
                {
                    title: 'First Term Ends',
                    start: '2024-04-05',
                    end: '2024-04-05',
                    category: 'term',
                    description: 'Last day of first term. Report cards distributed.',
                    location: 'Classrooms',
                    time: '10:00 AM',
                    grades: 'All Grades',
                    importance: 'high'
                },
                {
                    title: 'Easter Holiday',
                    start: '2024-04-07',
                    end: '2024-04-10',
                    category: 'holiday',
                    description: 'Easter holiday break.',
                    location: '',
                    time: '',
                    grades: 'All Grades',
                    importance: 'medium'
                },
                {
                    title: 'Second Term Begins',
                    start: '2024-04-15',
                    end: '2024-04-15',
                    category: 'term',
                    description: 'Beginning of second term.',
                    location: 'Classrooms',
                    time: '7:30 AM',
                    grades: 'All Grades',
                    importance: 'high'
                },
                {
                    title: 'Earth Day Celebration',
                    start: '2024-04-22',
                    end: '2024-04-22',
                    category: 'cultural',
                    description: 'Environmental awareness activities and tree planting.',
                    location: 'School Compound',
                    time: '10:00 AM - 1:00 PM',
                    grades: 'All Grades',
                    importance: 'medium'
                },
                {
                    title: 'Debate Competition',
                    start: '2024-04-26',
                    end: '2024-04-26',
                    category: 'academic',
                    description: 'Inter-class debate competition.',
                    location: 'School Hall',
                    time: '2:00 PM - 4:00 PM',
                    grades: 'Grades 4-9',
                    importance: 'medium'
                },
                
                // MAY
                {
                    title: 'Labor Day Holiday',
                    start: '2024-05-01',
                    end: '2024-05-01',
                    category: 'holiday',
                    description: 'Public holiday - Labor Day.',
                    location: '',
                    time: '',
                    grades: 'All Grades',
                    importance: 'high'
                },
                {
                    title: 'Career Guidance Week',
                    start: '2024-05-06',
                    end: '2024-05-10',
                    category: 'academic',
                    description: 'Career guidance sessions for upper grades.',
                    location: 'School Hall',
                    time: 'After School',
                    grades: 'Grades 6-9',
                    importance: 'medium'
                },
                {
                    title: 'Music Festival Rehearsals',
                    start: '2024-05-13',
                    end: '2024-05-17',
                    category: 'cultural',
                    description: 'Preparation for regional music festival.',
                    location: 'Music Room',
                    time: '3:00 PM - 5:00 PM',
                    grades: 'All Grades',
                    importance: 'low'
                },
                {
                    title: 'Mid-Year Parent Meeting',
                    start: '2024-05-24',
                    end: '2024-05-24',
                    category: 'parent',
                    description: 'General parents meeting to discuss mid-year progress.',
                    location: 'School Hall',
                    time: '8:00 AM',
                    grades: 'All Grades',
                    importance: 'high'
                },
                
                // JUNE
                {
                    title: 'World Environment Day',
                    start: '2024-06-05',
                    end: '2024-06-05',
                    category: 'cultural',
                    description: 'Environmental conservation activities.',
                    location: 'School Compound',
                    time: '10:00 AM - 12:00 PM',
                    grades: 'All Grades',
                    importance: 'medium'
                },
                {
                    title: 'Mid-Year Examinations',
                    start: '2024-06-10',
                    end: '2024-06-14',
                    category: 'exam',
                    description: 'Mid-year assessment tests.',
                    location: 'Classrooms',
                    time: 'Regular School Hours',
                    grades: 'All Grades',
                    importance: 'high'
                },
                {
                    title: 'Mid-Year Break',
                    start: '2024-06-17',
                    end: '2024-06-28',
                    category: 'holiday',
                    description: 'Two-week mid-year break.',
                    location: '',
                    time: '',
                    grades: 'All Grades',
                    importance: 'high'
                },
                {
                    title: 'Teachers Workshop',
                    start: '2024-06-24',
                    end: '2024-06-25',
                    category: 'academic',
                    description: 'Professional development workshop for teachers.',
                    location: 'School Hall',
                    time: '9:00 AM - 4:00 PM',
                    grades: 'Staff Only',
                    importance: 'medium'
                },
                
                // JULY
                {
                    title: 'School Reopens',
                    start: '2024-07-01',
                    end: '2024-07-01',
                    category: 'term',
                    description: 'School resumes after mid-year break.',
                    location: 'Classrooms',
                    time: '7:30 AM',
                    grades: 'All Grades',
                    importance: 'high'
                },
                {
                    title: 'Inter-House Drama',
                    start: '2024-07-12',
                    end: '2024-07-12',
                    category: 'cultural',
                    description: 'Inter-house drama and performing arts competition.',
                    location: 'School Hall',
                    time: '2:00 PM - 5:00 PM',
                    grades: 'All Grades',
                    importance: 'high'
                },
                {
                    title: 'Mathematics Week',
                    start: '2024-07-15',
                    end: '2024-07-19',
                    category: 'academic',
                    description: 'Mathematics puzzles, games, and competitions.',
                    location: 'Mathematics Department',
                    time: 'Break Times',
                    grades: 'All Grades',
                    importance: 'medium'
                },
                {
                    title: 'PP1 & PP2 Open Day',
                    start: '2024-07-26',
                    end: '2024-07-26',
                    category: 'parent',
                    description: 'Parents visit classrooms to see childrens work.',
                    location: 'Pre-Primary Wing',
                    time: '9:00 AM - 11:00 AM',
                    grades: 'PP1, PP2',
                    importance: 'medium'
                },
                
                // AUGUST
                {
                    title: 'Independence Day Celebrations',
                    start: '2024-08-01',
                    end: '2024-08-01',
                    category: 'cultural',
                    description: 'Patriotic songs and cultural presentations.',
                    location: 'Assembly Ground',
                    time: '8:00 AM - 10:00 AM',
                    grades: 'All Grades',
                    importance: 'high'
                },
                {
                    title: 'Science Exhibition',
                    start: '2024-08-09',
                    end: '2024-08-09',
                    category: 'academic',
                    description: 'Display of student science projects and experiments.',
                    location: 'Science Labs',
                    time: '9:00 AM - 3:00 PM',
                    grades: 'All Grades',
                    importance: 'high'
                },
                {
                    title: 'End of Term Exams',
                    start: '2024-08-19',
                    end: '2024-08-23',
                    category: 'exam',
                    description: 'Second term final examinations.',
                    location: 'Classrooms',
                    time: 'Regular School Hours',
                    grades: 'All Grades',
                    importance: 'high'
                },
                {
                    title: 'Second Term Ends',
                    start: '2024-08-30',
                    end: '2024-08-30',
                    category: 'term',
                    description: 'Last day of second term.',
                    location: 'Classrooms',
                    time: '10:00 AM',
                    grades: 'All Grades',
                    importance: 'high'
                },
                
                // SEPTEMBER
                {
                    title: 'Third Term Begins',
                    start: '2024-09-09',
                    end: '2024-09-09',
                    category: 'term',
                    description: 'Beginning of third term.',
                    location: 'Classrooms',
                    time: '7:30 AM',
                    grades: 'All Grades',
                    importance: 'high'
                },
                {
                    title: 'Reading Week',
                    start: '2024-09-16',
                    end: '2024-09-20',
                    category: 'academic',
                    description: 'Focus on reading activities and library programs.',
                    location: 'Library',
                    time: 'Library Hours',
                    grades: 'All Grades',
                    importance: 'medium'
                },
                {
                    title: 'Cultural Exchange Day',
                    start: '2024-09-27',
                    end: '2024-09-27',
                    category: 'cultural',
                    description: 'Celebration of different cultures and traditions.',
                    location: 'School Compound',
                    time: '9:00 AM - 2:00 PM',
                    grades: 'All Grades',
                    importance: 'high'
                },
                
                // OCTOBER
                {
                    title: 'Pre-Primary Sports Day',
                    start: '2024-10-04',
                    end: '2024-10-04',
                    category: 'sports',
                    description: 'Sports activities for PP1 and PP2 students.',
                    location: 'Pre-Primary Playground',
                    time: '9:00 AM - 11:00 AM',
                    grades: 'PP1, PP2',
                    importance: 'medium'
                },
                {
                    title: 'Primary School Sports',
                    start: '2024-10-11',
                    end: '2024-10-11',
                    category: 'sports',
                    description: 'Sports competition for Grades 1-5.',
                    location: 'Sports Field',
                    time: '8:00 AM - 12:00 PM',
                    grades: 'Grades 1-5',
                    importance: 'medium'
                },
                {
                    title: 'Secondary School Sports',
                    start: '2024-10-18',
                    end: '2024-10-18',
                    category: 'sports',
                    description: 'Sports competition for Grades 6-9.',
                    location: 'Sports Field',
                    time: '8:00 AM - 3:00 PM',
                    grades: 'Grades 6-9',
                    importance: 'medium'
                },
                {
                    title: 'Revision Week',
                    start: '2024-10-21',
                    end: '2024-10-25',
                    category: 'academic',
                    description: 'Intensive revision for final exams.',
                    location: 'Classrooms',
                    time: 'Regular Hours',
                    grades: 'All Grades',
                    importance: 'high'
                },
                
                // NOVEMBER
                {
                    title: 'Final Examinations',
                    start: '2024-11-04',
                    end: '2024-11-08',
                    category: 'exam',
                    description: 'End of year final examinations.',
                    location: 'Classrooms',
                    time: 'Regular School Hours',
                    grades: 'All Grades',
                    importance: 'high'
                },
                {
                    title: 'Marking and Grading',
                    start: '2024-11-11',
                    end: '2024-11-15',
                    category: 'academic',
                    description: 'Teachers mark exams and prepare reports.',
                    location: 'Staff Room',
                    time: 'Regular Hours',
                    grades: 'Staff Only',
                    importance: 'medium'
                },
                {
                    title: 'Graduation Ceremony',
                    start: '2024-11-22',
                    end: '2024-11-22',
                    category: 'academic',
                    description: 'Graduation ceremony for Grade 9 students.',
                    location: 'School Hall',
                    time: '10:00 AM - 1:00 PM',
                    grades: 'Grade 9',
                    importance: 'high'
                },
                {
                    title: 'Annual Prize Giving',
                    start: '2024-11-26',
                    end: '2024-11-26',
                    category: 'academic',
                    description: 'Award ceremony for academic and co-curricular achievements.',
                    location: 'School Hall',
                    time: '9:00 AM - 12:00 PM',
                    grades: 'All Grades',
                    importance: 'high'
                },
                {
                    title: 'School Closes for Holidays',
                    start: '2024-11-29',
                    end: '2024-11-29',
                    category: 'term',
                    description: 'End of academic year. Report cards distributed.',
                    location: 'Classrooms',
                    time: '10:00 AM',
                    grades: 'All Grades',
                    importance: 'high'
                },
                
                // DECEMBER
                {
                    title: 'Christmas Holiday',
                    start: '2024-12-01',
                    end: '2024-12-31',
                    category: 'holiday',
                    description: 'End of year holiday break.',
                    location: '',
                    time: '',
                    grades: 'All Grades',
                    importance: 'high'
                }
            ];
            
            // Initialize events
            useEffect(() => {
                const formattedEvents = comprehensiveCalendar.map(event => ({
                    ...event,
                    backgroundColor: eventCategories[event.category]?.bgColor || '#3b82f6',
                    borderColor: eventCategories[event.category]?.bgColor || '#3b82f6',
                    extendedProps: {
                        category: event.category,
                        description: event.description,
                        location: event.location,
                        time: event.time,
                        grades: event.grades,
                        importance: event.importance
                    }
                }));
                setEvents(formattedEvents);
                setFilteredEvents(formattedEvents);
            }, []);
            
            // Filter events based on active filters
            const filterEvents = (events, filters) => {
                if (filters.includes('all')) return events;
                
                return events.filter(event => {
                    const categoryMatch = filters.includes(event.category);
                    const gradeMatch = event.extendedProps?.grades && 
                        filters.some(filter => event.extendedProps.grades.toLowerCase().includes(filter));
                    return categoryMatch || gradeMatch;
                });
            };
            
            useEffect(() => {
                setFilteredEvents(filterEvents(events, activeFilters));
            }, [activeFilters, events]);
            
            // Initialize calendar
            useEffect(() => {
                if (calendarRef.current) {
                    const calendarEl = calendarRef.current;
                    
                    const calendar = new FullCalendar.Calendar(calendarEl, {
                        initialView: 'dayGridMonth',
                        initialDate: '2025-01-01',
                        headerToolbar: {
                            left: 'prev,next today',
                            center: 'title',
                            right: 'dayGridMonth,timeGridWeek,timeGridDay,listMonth'
                        },
                        views: {
                            listMonth: {
                                type: 'listMonth',
                                duration: { months: 1 },
                                buttonText: 'List'
                            }
                        },
                        events: filteredEvents,
                        height: 'auto',
                        eventClick: function(info) {
                            const event = info.event;
                            setSelectedEvent({
                                title: event.title,
                                date: event.start ? event.start.toLocaleDateString() : '',
                                category: event.extendedProps.category,
                                description: event.extendedProps.description,
                                location: event.extendedProps.location,
                                time: event.extendedProps.time,
                                grades: event.extendedProps.grades,
                                importance: event.extendedProps.importance
                            });
                        },
                        eventDidMount: function(info) {
                            // Add tooltip
                            info.el.title = info.event.title;
                        },
                        dayMaxEventRows: 3,
                        eventDisplay: 'block',
                        editable: false,
                        selectable: false
                    });
                    
                    calendar.render();
                    
                    return () => {
                        calendar.destroy();
                    };
                }
            }, [filteredEvents]);
            
            // Handle filter toggle
            const toggleFilter = (filter) => {
                if (filter === 'all') {
                    setActiveFilters(['all']);
                } else {
                    if (activeFilters.includes('all')) {
                        setActiveFilters([filter]);
                    } else if (activeFilters.includes(filter)) {
                        setActiveFilters(activeFilters.filter(f => f !== filter));
                    } else {
                        setActiveFilters([...activeFilters, filter]);
                    }
                    
                    if (activeFilters.length === 1 && activeFilters[0] === filter) {
                        setActiveFilters(['all']);
                    }
                }
            };
            
            // Close event modal
            const closeEventModal = () => {
                setSelectedEvent(null);
            };
            
            // Export calendar
            const exportCalendar = () => {
                showNotification('Calendar exported successfully!', 'success');
                // In real app, this would generate and download an ICS file
            };
            
            return (
                <section id="calendar" className="py-16 bg-white">
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div className="text-center mb-12">
                            <h2 className="text-4xl font-bold text-gray-900 mb-4">School Calendar 2025</h2>
                            <div className="w-24 h-1 bg-blue-600 mx-auto mb-6"></div>
                            <p className="text-lg text-gray-600 max-w-3xl mx-auto">
                                Comprehensive academic calendar with all school events, exams, holidays, and activities
                            </p>
                        </div>
                        
                        {/* Calendar Filters */}
                        <div className="mb-8">
                            <h3 className="text-lg font-bold text-gray-900 mb-4">Filter Events by Category:</h3>
                            <div className="calendar-filter">
                                {Object.entries(eventCategories).map(([key, category]) => (
                                    <button
                                        key={key}
                                        onClick={() => toggleFilter(key)}
                                        className={`filter-btn ${activeFilters.includes(key) ? 'active' : ''}`}
                                        style={{
                                            backgroundColor: activeFilters.includes(key) ? category.bgColor : '#f3f4f6',
                                            color: activeFilters.includes(key) ? 'white' : '#374151',
                                            borderColor: category.bgColor
                                        }}
                                    >
                                        {category.name}
                                    </button>
                                ))}
                            </div>
                        </div>
                        
                        {/* Calendar Container */}
                        <div className="bg-white rounded-xl shadow-lg overflow-hidden mb-8">
                            <div ref={calendarRef} id="calendar-container"></div>
                        </div>
                        
                        {/* Action Buttons */}
                        <div className="flex flex-wrap gap-4 justify-center mb-12">
                            <button 
                                onClick={() => showNotification('Switched to month view', 'info')}
                                className="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition cursor-pointer"
                            >
                                <i className="fas fa-calendar-alt mr-2"></i> Month View
                            </button>
                            <button 
                                onClick={() => showNotification('Switched to list view', 'info')}
                                className="px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition cursor-pointer"
                            >
                                <i className="fas fa-list mr-2"></i> List View
                            </button>
                            <button 
                                onClick={exportCalendar}
                                className="px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition cursor-pointer"
                            >
                                <i className="fas fa-download mr-2"></i> Export Calendar
                            </button>
                            <button 
                                onClick={() => showNotification('Calendar printed successfully!', 'success')}
                                className="px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition cursor-pointer"
                            >
                                <i className="fas fa-print mr-2"></i> Print Calendar
                            </button>
                        </div>
                        
                        {/* Legend */}
                        <div className="mb-12">
                            <h3 className="text-lg font-bold text-gray-900 mb-4">Calendar Legend:</h3>
                            <div className="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4">
                                {Object.entries(eventCategories).map(([key, category]) => (
                                    <div key={key} className="flex items-center">
                                        <div 
                                            className="w-4 h-4 rounded mr-2" 
                                            style={{ backgroundColor: category.bgColor }}
                                        ></div>
                                        <span className="text-sm">{category.name}</span>
                                    </div>
                                ))}
                            </div>
                        </div>
                        
                        {/* Upcoming Events List */}
                        <div className="bg-gray-50 rounded-xl p-8">
                            <h3 className="text-2xl font-bold text-gray-900 mb-6">Upcoming Important Events</h3>
                            <div className="space-y-4">
                                {events
                                    .filter(event => {
                                        const eventDate = new Date(event.start);
                                        const today = new Date();
                                        return eventDate >= today;
                                    })
                                    .sort((a, b) => new Date(a.start) - new Date(b.start))
                                    .slice(0, 5)
                                    .map((event, index) => (
                                        <div key={index} className="bg-white p-4 rounded-lg shadow">
                                            <div className="flex items-center justify-between">
                                                <div>
                                                    <h4 className="font-bold text-gray-900">{event.title}</h4>
                                                    <p className="text-sm text-gray-600">
                                                        {new Date(event.start).toLocaleDateString('en-US', { 
                                                            weekday: 'long', 
                                                            year: 'numeric', 
                                                            month: 'long', 
                                                            day: 'numeric' 
                                                        })}
                                                    </p>
                                                </div>
                                                <span 
                                                    className="px-3 py-1 text-xs font-semibold rounded-full"
                                                    style={{ 
                                                        backgroundColor: eventCategories[event.category]?.bgColor + '20',
                                                        color: eventCategories[event.category]?.bgColor
                                                    }}
                                                >
                                                    {eventCategories[event.category]?.name}
                                                </span>
                                            </div>
                                        </div>
                                    ))}
                            </div>
                        </div>
                    </div>
                    
                    {/* Event Details Modal */}
                    {selectedEvent && (
                        <div className="event-modal open">
                            <div className="event-modal-content">
                                <div className="p-6">
                                    <div className="flex justify-between items-start mb-4">
                                        <h3 className="text-2xl font-bold text-gray-900">{selectedEvent.title}</h3>
                                        <button 
                                            onClick={closeEventModal}
                                            className="text-gray-400 hover:text-gray-600 cursor-pointer bg-transparent border-none"
                                        >
                                            <i className="fas fa-times text-xl"></i>
                                        </button>
                                    </div>
                                    
                                    <div className="space-y-4">
                                        <div className="flex items-center">
                                            <i className="fas fa-calendar text-blue-600 mr-3"></i>
                                            <div>
                                                <p className="font-semibold">Date</p>
                                                <p className="text-gray-600">{selectedEvent.date}</p>
                                            </div>
                                        </div>
                                        
                                        <div className="flex items-center">
                                            <i className="fas fa-clock text-blue-600 mr-3"></i>
                                            <div>
                                                <p className="font-semibold">Time</p>
                                                <p className="text-gray-600">{selectedEvent.time || 'To be announced'}</p>
                                            </div>
                                        </div>
                                        
                                        <div className="flex items-center">
                                            <i className="fas fa-map-marker-alt text-blue-600 mr-3"></i>
                                            <div>
                                                <p className="font-semibold">Location</p>
                                                <p className="text-gray-600">{selectedEvent.location || 'Various locations'}</p>
                                            </div>
                                        </div>
                                        
                                        <div className="flex items-center">
                                            <i className="fas fa-users text-blue-600 mr-3"></i>
                                            <div>
                                                <p className="font-semibold">Grades</p>
                                                <p className="text-gray-600">{selectedEvent.grades}</p>
                                            </div>
                                        </div>
                                        
                                        <div className="flex items-center">
                                            <i className="fas fa-tag text-blue-600 mr-3"></i>
                                            <div>
                                                <p className="font-semibold">Category</p>
                                                <span 
                                                    className="px-2 py-1 text-xs font-semibold rounded"
                                                    style={{ 
                                                        backgroundColor: eventCategories[selectedEvent.category]?.bgColor + '20',
                                                        color: eventCategories[selectedEvent.category]?.bgColor
                                                    }}
                                                >
                                                    {eventCategories[selectedEvent.category]?.name}
                                                </span>
                                            </div>
                                        </div>
                                        
                                        <div>
                                            <p className="font-semibold mb-2">Description</p>
                                            <p className="text-gray-600">{selectedEvent.description}</p>
                                        </div>
                                        
                                        <div className="flex items-center">
                                            <i className="fas fa-exclamation-circle text-blue-600 mr-3"></i>
                                            <div>
                                                <p className="font-semibold">Importance</p>
                                                <span className={`px-2 py-1 text-xs font-semibold rounded ${
                                                    selectedEvent.importance === 'high' ? 'bg-red-100 text-red-800' :
                                                    selectedEvent.importance === 'medium' ? 'bg-yellow-100 text-yellow-800' :
                                                    'bg-green-100 text-green-800'
                                                }`}>
                                                    {selectedEvent.importance?.toUpperCase()}
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div className="mt-8 flex justify-end space-x-4">
                                        <button 
                                            onClick={() => {
                                                showNotification(`Added "${selectedEvent.title}" to your calendar`, 'success');
                                                closeEventModal();
                                            }}
                                            className="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition cursor-pointer"
                                        >
                                            <i className="fas fa-calendar-plus mr-2"></i> Add to Calendar
                                        </button>
                                        <button 
                                            onClick={closeEventModal}
                                            className="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition cursor-pointer"
                                        >
                                            Close
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}
                </section>
            );
        };

        const StaffSection = () => {
            const [staff, setStaff] = useState([]);
            const [departments, setDepartments] = useState([]);
            
            useEffect(() => {
                apiService.get('/staff').then(data => {
                    if (data.success) {
                        setStaff(data.data);
                        setDepartments(Object.keys(data.data));
                    }
                });
            }, []);
            
            const handleContactStaff = (name, email) => {
                showNotification(`Opening contact form for ${name} (${email})`, 'info');
                // In a real app, you would open a contact modal or compose email
            };
            
            return (
                <section id="staff" className="py-16 bg-gray-50">
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div className="text-center mb-12">
                            <h2 className="text-4xl font-bold text-gray-900 mb-4">Our Faculty & Staff</h2>
                            <div className="w-24 h-1 bg-blue-600 mx-auto mb-6"></div>
                            <p className="text-lg text-gray-600 max-w-3xl mx-auto">
                                Dedicated educators committed to student success
                            </p>
                        </div>
                        
                        <div className="space-y-12">
                            {departments.length > 0 ? departments.map((dept, deptIndex) => (
                                <div key={deptIndex}>
                                    <h3 className="text-2xl font-bold text-gray-900 mb-6 border-l-4 border-blue-600 pl-4">
                                        {dept} Department
                                    </h3>
                                    <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                                        {staff[dept]?.map((member, memberIndex) => (
                                            <div key={memberIndex} className="bg-white rounded-xl p-6 shadow-md card-hover">
                                                <div className="flex items-center space-x-4">
                                                    <div className="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center text-2xl">
                                                        {member.photo ? (
                                                            <img src={member.photo} alt={member.name} className="w-full h-full rounded-full object-cover" />
                                                        ) : (
                                                            <span>üë®‚Äçüè´</span>
                                                        )}
                                                    </div>
                                                    <div>
                                                        <h4 className="font-bold text-lg text-gray-900">{member.name}</h4>
                                                        <p className="text-blue-600 font-medium">{member.position}</p>
                                                        <p className="text-sm text-gray-500 mt-1">{member.email}</p>
                                                    </div>
                                                </div>
                                                <div className="mt-4 pt-4 border-t border-gray-100">
                                                    <p className="text-gray-600 text-sm">{member.bio || 'Experienced educator dedicated to student development.'}</p>
                                                    <div className="mt-4 flex items-center space-x-4">
                                                        <button 
                                                            onClick={() => handleContactStaff(member.name, member.email)}
                                                            className="text-blue-600 hover:text-blue-800 bg-transparent border-none cursor-pointer"
                                                        >
                                                            <i className="fas fa-envelope"></i>
                                                        </button>
                                                        <button 
                                                            onClick={() => showNotification(`Calling ${member.name}...`, 'info')}
                                                            className="text-gray-600 hover:text-gray-800 bg-transparent border-none cursor-pointer"
                                                        >
                                                            <i className="fas fa-phone"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            )) : (
                                // Fallback demo staff data
                                <div>
                                    <h3 className="text-2xl font-bold text-gray-900 mb-6 border-l-4 border-blue-600 pl-4">
                                        Teaching Staff
                                    </h3>
                                    <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                                        {[
                                            { name: 'Dr. Sarah Johnson', position: 'Principal', email: 's.johnson@riverside.edu' },
                                            { name: 'Mr. Robert Chen', position: 'Vice Principal', email: 'r.chen@riverside.edu' },
                                            { name: 'Ms. Maria Garcia', position: 'Head of Pre-Primary', email: 'm.garcia@riverside.edu' },
                                            { name: 'Mr. James Wilson', position: 'Head of Primary', email: 'j.wilson@riverside.edu' },
                                            { name: 'Mrs. Amina Hassan', position: 'Head of Junior Secondary', email: 'a.hassan@riverside.edu' },
                                            { name: 'Mr. David Kimani', position: 'Sports Coordinator', email: 'd.kimani@riverside.edu' }
                                        ].map((member, index) => (
                                            <div key={index} className="bg-white rounded-xl p-6 shadow-md card-hover">
                                                <div className="flex items-center space-x-4">
                                                    <div className="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center text-2xl">
                                                        <span>üë®‚Äçüè´</span>
                                                    </div>
                                                    <div>
                                                        <h4 className="font-bold text-lg text-gray-900">{member.name}</h4>
                                                        <p className="text-blue-600 font-medium">{member.position}</p>
                                                        <p className="text-sm text-gray-500 mt-1">{member.email}</p>
                                                    </div>
                                                </div>
                                                <div className="mt-4 pt-4 border-t border-gray-100">
                                                    <p className="text-gray-600 text-sm">Experienced educator dedicated to student development.</p>
                                                    <div className="mt-4 flex items-center space-x-4">
                                                        <button 
                                                            onClick={() => handleContactStaff(member.name, member.email)}
                                                            className="text-blue-600 hover:text-blue-800 bg-transparent border-none cursor-pointer"
                                                        >
                                                            <i className="fas fa-envelope"></i>
                                                        </button>
                                                        <button 
                                                            onClick={() => showNotification(`Calling ${member.name}...`, 'info')}
                                                            className="text-gray-600 hover:text-gray-800 bg-transparent border-none cursor-pointer"
                                                        >
                                                            <i className="fas fa-phone"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            )}
                        </div>
                    </div>
                </section>
            );
        };

        const PoliciesSection = () => {
            const [policies, setPolicies] = useState([]);
            const [selectedPolicy, setSelectedPolicy] = useState(null);
            
            useEffect(() => {
                apiService.get('/policies').then(data => {
                    if (data.success) {
                        // Flatten grouped policies
                        const allPolicies = [];
                        Object.values(data.data).forEach(categoryPolicies => {
                            allPolicies.push(...categoryPolicies);
                        });
                        setPolicies(allPolicies);
                    }
                });
            }, []);
            
            const handleViewDetails = (policy) => {
                setSelectedPolicy(policy);
            };
            
            const closePolicyModal = () => {
                setSelectedPolicy(null);
            };
            
            return (
                <section id="policies" className="py-16 bg-white">
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div className="text-center mb-12">
                            <h2 className="text-4xl font-bold text-gray-900 mb-4">School Policies & Guidelines</h2>
                            <div className="w-24 h-1 bg-blue-600 mx-auto mb-6"></div>
                            <p className="text-lg text-gray-600 max-w-3xl mx-auto">
                                Clear guidelines for students, parents, and staff
                            </p>
                        </div>
                        
                        <div className="grid md:grid-cols-2 gap-8">
                            {[
                                {
                                    title: 'Student Code of Conduct',
                                    icon: 'üìù',
                                    description: 'Rules and expectations for student behavior and discipline',
                                    points: ['Behavior Standards', 'Academic Integrity', 'Respect Guidelines', 'Disciplinary Procedures']
                                },
                                {
                                    title: 'Academic Policies',
                                    icon: 'üìö',
                                    description: 'Grading system, examination rules, and academic standards',
                                    points: ['Grading System', 'Examination Rules', 'Homework Policy', 'Promotion Criteria']
                                },
                                {
                                    title: 'Safety & Security',
                                    icon: 'üõ°Ô∏è',
                                    description: 'Procedures for ensuring student safety on campus',
                                    points: ['Emergency Protocols', 'Visitor Policy', 'CCTV Monitoring', 'Health & Safety']
                                },
                                {
                                    title: 'Parent Guidelines',
                                    icon: 'üë®‚Äçüë©‚Äçüëß‚Äçüë¶',
                                    description: 'Guidelines for parent involvement and communication with school',
                                    points: ['Communication Channels', 'Meeting Procedures', 'Volunteer Guidelines', 'School Events']
                                }
                            ].map((policy, index) => (
                                <div key={index} className="bg-gray-50 rounded-xl p-8 border border-gray-200 card-hover">
                                    <div className="text-4xl mb-6">{policy.icon}</div>
                                    <h3 className="text-2xl font-bold text-gray-900 mb-4">{policy.title}</h3>
                                    <p className="text-gray-600 mb-6">{policy.description}</p>
                                    <ul className="space-y-3 mb-8">
                                        {policy.points.map((point, idx) => (
                                            <li key={idx} className="flex items-center">
                                                <i className="fas fa-check-circle text-green-500 mr-3"></i>
                                                <span>{point}</span>
                                            </li>
                                        ))}
                                    </ul>
                                    <button 
                                        onClick={() => handleViewDetails({...policy, content: `<h3>${policy.title}</h3><p>${policy.description}</p><h4>Key Areas:</h4><ul>${policy.points.map(point => `<li><strong>${point}:</strong> Detailed guidelines and procedures for ${point.toLowerCase()}</li>`).join('')}</ul><p>For complete policy details, please contact the school administration or download the full policy document.</p>`})}
                                        className="bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition w-full cursor-pointer"
                                    >
                                        View Details
                                    </button>
                                </div>
                            ))}
                        </div>
                    </div>
                    
                    {/* Policy Details Modal */}
                    {selectedPolicy && (
                        <div className="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4" onClick={closePolicyModal}>
                            <div className="bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto" onClick={(e) => e.stopPropagation()}>
                                <div className="sticky top-0 bg-white border-b border-gray-200 p-6 flex justify-between items-start">
                                    <div className="flex items-center space-x-4">
                                        <div className="text-4xl">{selectedPolicy.icon}</div>
                                        <div>
                                            <h1 className="text-3xl font-bold text-gray-900">{selectedPolicy.title}</h1>
                                            <p className="text-gray-600 mt-2">{selectedPolicy.description}</p>
                                        </div>
                                    </div>
                                    <button 
                                        onClick={closePolicyModal}
                                        className="text-gray-400 hover:text-gray-600 text-2xl bg-transparent border-none cursor-pointer"
                                    >
                                        <i className="fas fa-times"></i>
                                    </button>
                                </div>
                                
                                <div className="p-6">
                                    <div className="prose max-w-none text-gray-700 leading-relaxed" style={{fontSize: '16px', lineHeight: '1.8'}}>
                                        <div dangerouslySetInnerHTML={{ __html: selectedPolicy.content }} />
                                    </div>
                                    
                                    <div className="mt-8 pt-6 border-t border-gray-200 flex flex-col sm:flex-row gap-4">
                                        <button 
                                            onClick={() => {
                                                showNotification('Policy document downloaded!', 'success');
                                            }}
                                            className="flex-1 bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition font-semibold cursor-pointer"
                                        >
                                            <i className="fas fa-download mr-2"></i> Download PDF
                                        </button>
                                        <button 
                                            onClick={() => {
                                                window.print();
                                            }}
                                            className="flex-1 border-2 border-gray-300 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-50 transition font-semibold cursor-pointer"
                                        >
                                            <i className="fas fa-print mr-2"></i> Print Policy
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}
                </section>
            );
        };

        const HandbooksSection = () => {
            const [handbooks, setHandbooks] = useState([]);
            const [selectedGrade, setSelectedGrade] = useState('PP1');
            
            useEffect(() => {
                apiService.get('/handbooks').then(data => {
                    if (data.success) setHandbooks(data.data);
                });
            }, []);
            
            const handleDownload = (handbookType, grade) => {
                showNotification(`Downloading ${handbookType} for ${grade}...`, 'info');
                // In a real app, you would trigger a file download
                setTimeout(() => {
                    showNotification(`${handbookType} for ${grade} downloaded successfully`, 'success');
                }, 2000);
            };
            
            const grades = ['PP1', 'PP2', 'Grade 1', 'Grade 2', 'Grade 3', 'Grade 4', 'Grade 5', 'Grade 6', 'Grade 7', 'Grade 8', 'Grade 9'];
            
            const handbookDetails = {
                'PP1': {
                    description: 'Handbook for Pre-Primary 1 students including daily routines, learning activities, and parent guidelines',
                    size: '4.2 MB',
                    pages: 36,
                    icon: 'üë∂'
                },
                'PP2': {
                    description: 'Handbook for Pre-Primary 2 students with advanced learning activities and preparation for primary school',
                    size: '4.5 MB',
                    pages: 40,
                    icon: 'üßí'
                },
                'Grade 1': {
                    description: 'Handbook for Grade 1 students covering curriculum, homework guidelines, and school procedures',
                    size: '5.1 MB',
                    pages: 45,
                    icon: 'üìñ'
                },
                'Grade 2': {
                    description: 'Handbook for Grade 2 students with subject guidelines and school expectations',
                    size: '5.3 MB',
                    pages: 48,
                    icon: 'üìö'
                },
                'Grade 3': {
                    description: 'Handbook for Grade 3 students including examination guidelines and co-curricular activities',
                    size: '5.6 MB',
                    pages: 52,
                    icon: 'üéí'
                },
                'Grade 4': {
                    description: 'Handbook for Grade 4 students with detailed curriculum information and assessment guidelines',
                    size: '5.8 MB',
                    pages: 55,
                    icon: '‚úèÔ∏è'
                },
                'Grade 5': {
                    description: 'Handbook for Grade 5 students including preparation for upper primary and subject choices',
                    size: '6.0 MB',
                    pages: 58,
                    icon: 'üìù'
                },
                'Grade 6': {
                    description: 'Handbook for Grade 6 students covering junior secondary curriculum and expectations',
                    size: '6.3 MB',
                    pages: 62,
                    icon: 'üî¨'
                },
                'Grade 7': {
                    description: 'Handbook for Grade 7 students with subject specialization guidelines and career orientation',
                    size: '6.5 MB',
                    pages: 65,
                    icon: 'üß™'
                },
                'Grade 8': {
                    description: 'Handbook for Grade 8 students including examination preparation and leadership opportunities',
                    size: '6.8 MB',
                    pages: 68,
                    icon: 'üéì'
                },
                'Grade 9': {
                    description: 'Handbook for Grade 9 students with graduation requirements and future educational pathways',
                    size: '7.1 MB',
                    pages: 72,
                    icon: 'üèÜ'
                }
            };
            
            return (
                <section className="py-16 bg-gray-50">
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div className="text-center mb-12">
                            <h2 className="text-4xl font-bold text-gray-900 mb-4">Student Handbooks</h2>
                            <div className="w-24 h-1 bg-blue-600 mx-auto mb-6"></div>
                            <p className="text-lg text-gray-600 max-w-3xl mx-auto">
                                Grade-specific handbooks for students from PP1 to Grade 9
                            </p>
                        </div>
                        
                        {/* Grade Selection */}
                        <div className="mb-12">
                            <h3 className="text-xl font-bold text-gray-900 mb-4 text-center">Select Grade Level</h3>
                            <div className="grade-selector">
                                {grades.map((grade) => (
                                    <button
                                        key={grade}
                                        className={`grade-btn ${selectedGrade === grade ? 'active' : ''}`}
                                        onClick={() => setSelectedGrade(grade)}
                                    >
                                        {grade}
                                    </button>
                                ))}
                            </div>
                        </div>
                        
                        {/* Handbook Display */}
                        <div className="bg-white rounded-xl p-8 shadow-md text-center card-hover max-w-2xl mx-auto">
                            <div className="text-5xl mb-6">{handbookDetails[selectedGrade]?.icon || 'üìò'}</div>
                            <h3 className="text-2xl font-bold text-gray-900 mb-4">{selectedGrade} Student Handbook</h3>
                            <p className="text-gray-600 mb-6">{handbookDetails[selectedGrade]?.description}</p>
                            <div className="flex justify-center space-x-6 mb-8">
                                <div className="text-center">
                                    <div className="font-bold text-gray-900">{handbookDetails[selectedGrade]?.size}</div>
                                    <div className="text-sm text-gray-500">File Size</div>
                                </div>
                                <div className="text-center">
                                    <div className="font-bold text-gray-900">{handbookDetails[selectedGrade]?.pages}</div>
                                    <div className="text-sm text-gray-500">Pages</div>
                                </div>
                                <div className="text-center">
                                    <div className="font-bold text-gray-900">PDF</div>
                                    <div className="text-sm text-gray-500">Format</div>
                                </div>
                            </div>
                            <div className="flex flex-col sm:flex-row gap-4 justify-center">
                                <button 
                                    onClick={() => handleDownload('Student Handbook', selectedGrade)}
                                    className="bg-green-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-green-700 transition cursor-pointer"
                                >
                                    <i className="fas fa-download mr-2"></i> Download PDF
                                </button>
                                <button 
                                    onClick={() => showNotification(`Viewing ${selectedGrade} handbook online...`, 'info')}
                                    className="bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-blue-700 transition cursor-pointer"
                                >
                                    <i className="fas fa-eye mr-2"></i> View Online
                                </button>
                            </div>
                        </div>
                        
                        {/* Handbook Contents */}
                        <div className="mt-12 bg-white rounded-xl p-8">
                            <h3 className="text-2xl font-bold text-gray-900 mb-6 text-center">Handbook Contents</h3>
                            <div className="grid md:grid-cols-2 gap-6">
                                <div>
                                    <h4 className="font-bold text-lg text-gray-900 mb-3">Academic Information</h4>
                                    <ul className="space-y-2">
                                        <li className="flex items-center">
                                            <i className="fas fa-check text-green-500 mr-2"></i>
                                            <span>Curriculum Overview</span>
                                        </li>
                                        <li className="flex items-center">
                                            <i className="fas fa-check text-green-500 mr-2"></i>
                                            <span>Assessment Guidelines</span>
                                        </li>
                                        <li className="flex items-center">
                                            <i className="fas fa-check text-green-500 mr-2"></i>
                                            <span>Homework Policies</span>
                                        </li>
                                        <li className="flex items-center">
                                            <i className="fas fa-check text-green-500 mr-2"></i>
                                            <span>Examination Rules</span>
                                        </li>
                                    </ul>
                                </div>
                                <div>
                                    <h4 className="font-bold text-lg text-gray-900 mb-3">School Life</h4>
                                    <ul className="space-y-2">
                                        <li className="flex items-center">
                                            <i className="fas fa-check text-green-500 mr-2"></i>
                                            <span>Daily Schedule</span>
                                        </li>
                                        <li className="flex items-center">
                                            <i className="fas fa-check text-green-500 mr-2"></i>
                                            <span>Code of Conduct</span>
                                        </li>
                                        <li className="flex items-center">
                                            <i className="fas fa-check text-green-500 mr-2"></i>
                                            <span>Uniform Guidelines</span>
                                        </li>
                                        <li className="flex items-center">
                                            <i className="fas fa-check text-green-500 mr-2"></i>
                                            <span>Co-curricular Activities</span>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            );
        };

        const ContactSection = () => {
            const [formData, setFormData] = useState({
                name: '',
                email: '',
                phone: '',
                subject: 'general',
                message: ''
            });
            const [submitting, setSubmitting] = useState(false);
            const [submitStatus, setSubmitStatus] = useState(null);
            
            const handleSubmit = async (e) => {
                e.preventDefault();
                setSubmitting(true);
                
                // Simulate API call
                setTimeout(() => {
                    setSubmitting(false);
                    setSubmitStatus('success');
                    showNotification('Message sent successfully! We will respond within 24 hours.', 'success');
                    
                    // Reset form
                    setFormData({ name: '', email: '', phone: '', subject: 'general', message: '' });
                    
                    // Clear status after 5 seconds
                    setTimeout(() => setSubmitStatus(null), 5000);
                }, 1500);
                
                // Try to send to backend first
                try {
                    const result = await apiService.post('/contact', formData);
                    if (result.success) {
                        setSubmitStatus('success');
                        showNotification('Message sent successfully! We will respond within 24 hours.', 'success');
                        setFormData({ name: '', email: '', phone: '', subject: 'general', message: '' });
                        setTimeout(() => setSubmitStatus(null), 5000);
                        setSubmitting(false);
                        return;
                    }
                } catch (error) {
                    console.warn('Contact API failed, using demo mode');
                }
                
                // Fallback demo behavior
            };
            
            const handleChange = (e) => {
                setFormData({
                    ...formData,
                    [e.target.name]: e.target.value
                });
            };
            
            const handleSocialClick = (platform) => {
                showNotification(`Opening ${platform}...`, 'info');
                // In a real app, you would open the social media link
            };
            
            return (
                <section id="contact" className="py-16 bg-white">
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div className="text-center mb-12">
                            <h2 className="text-4xl font-bold text-gray-900 mb-4">Contact Us</h2>
                            <div className="w-24 h-1 bg-blue-600 mx-auto mb-6"></div>
                            <p className="text-lg text-gray-600 max-w-3xl mx-auto">
                                Get in touch with us for inquiries, admissions, or feedback
                            </p>
                        </div>
                        
                        <div className="grid md:grid-cols-2 gap-12">
                            {/* Contact Information */}
                            <div>
                                <h3 className="text-2xl font-bold text-gray-900 mb-8">Visit Our Campus</h3>
                                
                                <div className="space-y-6">
                                    <div className="flex items-start space-x-4">
                                        <div className="bg-blue-100 p-3 rounded-lg">
                                            <i className="fas fa-map-marker-alt text-blue-600 text-xl"></i>
                                        </div>
                                        <div>
                                            <h4 className="font-bold text-gray-900">Address</h4>
                                            <p className="text-gray-600">123 Education Street, Riverside<br />City, State 12345</p>
                                        </div>
                                    </div>
                                    
                                    <div className="flex items-start space-x-4">
                                        <div className="bg-blue-100 p-3 rounded-lg">
                                            <i className="fas fa-phone text-blue-600 text-xl"></i>
                                        </div>
                                        <div>
                                            <h4 className="font-bold text-gray-900">Phone</h4>
                                            <p className="text-gray-600">+1 (555) 123-4567<br />+1 (555) 123-4568 (Fax)</p>
                                        </div>
                                    </div>
                                    
                                    <div className="flex items-start space-x-4">
                                        <div className="bg-blue-100 p-3 rounded-lg">
                                            <i className="fas fa-envelope text-blue-600 text-xl"></i>
                                        </div>
                                        <div>
                                            <h4 className="font-bold text-gray-900">Email</h4>
                                            <p className="text-gray-600">
                                                info@riverside.edu<br />
                                                admissions@riverside.edu
                                            </p>
                                        </div>
                                    </div>
                                    
                                    <div className="flex items-start space-x-4">
                                        <div className="bg-blue-100 p-3 rounded-lg">
                                            <i className="fas fa-clock text-blue-600 text-xl"></i>
                                        </div>
                                        <div>
                                            <h4 className="font-bold text-gray-900">Office Hours</h4>
                                            <p className="text-gray-600">
                                                Monday-Friday: 8:00 AM - 4:00 PM<br />
                                                Saturday: 9:00 AM - 1:00 PM
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                
                                <div className="mt-12">
                                    <h4 className="font-bold text-gray-900 mb-4">Follow Us</h4>
                                    <div className="flex space-x-4">
                                        {['facebook', 'twitter', 'instagram', 'youtube'].map((social) => (
                                            <button 
                                                key={social}
                                                onClick={() => handleSocialClick(social)}
                                                className="bg-gray-100 p-3 rounded-lg hover:bg-blue-100 transition cursor-pointer"
                                            >
                                                <i className={`fab fa-${social} text-gray-600 text-xl`}></i>
                                            </button>
                                        ))}
                                    </div>
                                </div>
                            </div>
                            
                            {/* Contact Form */}
                            <div className="bg-gray-50 rounded-xl p-8">
                                <h3 className="text-2xl font-bold text-gray-900 mb-6">Send Us a Message</h3>
                                
                                {submitStatus === 'success' && (
                                    <div className="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6">
                                        Message sent successfully! We'll get back to you soon.
                                    </div>
                                )}
                                
                                {submitStatus === 'error' && (
                                    <div className="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6">
                                        Error sending message. Please try again.
                                    </div>
                                )}
                                
                                <form onSubmit={handleSubmit}>
                                    <div className="grid md:grid-cols-2 gap-6 mb-6">
                                        <div>
                                            <label className="block text-gray-700 mb-2">Full Name *</label>
                                            <input
                                                type="text"
                                                name="name"
                                                value={formData.name}
                                                onChange={handleChange}
                                                required
                                                className="w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-blue-500 focus:outline-none"
                                                placeholder="John Doe"
                                            />
                                        </div>
                                        
                                        <div>
                                            <label className="block text-gray-700 mb-2">Email Address *</label>
                                            <input
                                                type="email"
                                                name="email"
                                                value={formData.email}
                                                onChange={handleChange}
                                                required
                                                className="w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-blue-500 focus:outline-none"
                                                placeholder="john@example.com"
                                            />
                                        </div>
                                    </div>
                                    
                                    <div className="grid md:grid-cols-2 gap-6 mb-6">
                                        <div>
                                            <label className="block text-gray-700 mb-2">Phone Number</label>
                                            <input
                                                type="tel"
                                                name="phone"
                                                value={formData.phone}
                                                onChange={handleChange}
                                                className="w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-blue-500 focus:outline-none"
                                                placeholder="+1 (555) 123-4567"
                                            />
                                        </div>
                                        
                                        <div>
                                            <label className="block text-gray-700 mb-2">Subject *</label>
                                            <select
                                                name="subject"
                                                value={formData.subject}
                                                onChange={handleChange}
                                                required
                                                className="w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-blue-500 focus:outline-none"
                                            >
                                                <option value="general">General Inquiry</option>
                                                <option value="admission">Admission Inquiry</option>
                                                <option value="academic">Academic Questions</option>
                                                <option value="feedback">Feedback</option>
                                                <option value="complaint">Complaint</option>
                                            </select>
                                        </div>
                                    </div>
                                    
                                    <div className="mb-6">
                                        <label className="block text-gray-700 mb-2">Message *</label>
                                        <textarea
                                            name="message"
                                            value={formData.message}
                                            onChange={handleChange}
                                            required
                                            rows="5"
                                            className="w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-blue-500 focus:outline-none"
                                            placeholder="Your message here..."
                                        ></textarea>
                                    </div>
                                    
                                    <button
                                        type="submit"
                                        disabled={submitting}
                                        className="w-full bg-blue-600 text-white py-4 rounded-lg font-bold hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer"
                                    >
                                        {submitting ? (
                                            <>
                                                <i className="fas fa-spinner fa-spin mr-2"></i>
                                                Sending...
                                            </>
                                        ) : (
                                            'Send Message'
                                        )}
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>
                </section>
            );
        };

        const Footer = () => {
            const [email, setEmail] = useState('');
            
            const handleSubscribe = (e) => {
                e.preventDefault();
                if (email) {
                    showNotification(`Subscribed ${email} to newsletter!`, 'success');
                    setEmail('');
                } else {
                    showNotification('Please enter your email address', 'error');
                }
            };
            
            const handleLinkClick = (link) => {
                showNotification(`Navigating to ${link}...`, 'info');
                // In a real app, you would navigate to the page
            };
            
            return (
                <footer className="bg-gray-900 text-white pt-12 pb-8">
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div className="grid md:grid-cols-4 gap-8 mb-8">
                            <div>
                                <div 
                                    className="flex items-center space-x-3 mb-6 cursor-pointer"
                                    onClick={() => scrollToSection('home')}
                                >
                                    <div className="w-10 h-10 bg-white rounded-lg flex items-center justify-center">
                                        <span className="text-xl text-blue-600">üéì</span>
                                    </div>
                                    <h3 className="text-xl font-bold">Riverside Academy</h3>
                                </div>
                                <p className="text-gray-400">
                                    Committed to excellence in education and character development since 1995.
                                </p>
                            </div>
                            
                            <div>
                                <h4 className="text-lg font-bold mb-6">Quick Links</h4>
                                <ul className="space-y-3">
                                    {['About Us', 'Academics', 'Admissions', 'News', 'Calendar', 'Contact'].map((link) => (
                                        <li key={link}>
                                            <button 
                                                onClick={() => handleLinkClick(link)}
                                                className="text-gray-400 hover:text-white transition bg-transparent border-none cursor-pointer p-0"
                                            >
                                                {link}
                                            </button>
                                        </li>
                                    ))}
                                </ul>
                            </div>
                            
                            <div>
                                <h4 className="text-lg font-bold mb-6">Resources</h4>
                                <ul className="space-y-3">
                                    {['Student Portal', 'Parent Portal', 'Faculty Portal', 'Library', 'Downloads', 'FAQs'].map((resource) => (
                                        <li key={resource}>
                                            <button 
                                                onClick={() => handleLinkClick(resource)}
                                                className="text-gray-400 hover:text-white transition bg-transparent border-none cursor-pointer p-0"
                                            >
                                                {resource}
                                            </button>
                                        </li>
                                    ))}
                                </ul>
                            </div>
                            
                            <div>
                                <h4 className="text-lg font-bold mb-6">Subscribe to Newsletter</h4>
                                <form onSubmit={handleSubscribe} className="flex mb-4">
                                    <input
                                        type="email"
                                        value={email}
                                        onChange={(e) => setEmail(e.target.value)}
                                        placeholder="Your email"
                                        className="flex-grow px-4 py-3 rounded-l-lg text-gray-900 focus:outline-none"
                                        required
                                    />
                                    <button 
                                        type="submit"
                                        className="bg-blue-600 px-4 rounded-r-lg hover:bg-blue-700 transition cursor-pointer"
                                    >
                                        <i className="fas fa-paper-plane"></i>
                                    </button>
                                </form>
                                <p className="text-sm text-gray-400">
                                    Get updates on school events, news, and announcements.
                                </p>
                            </div>
                        </div>
                        
                        <div className="border-t border-gray-800 pt-8 flex flex-col md:flex-row justify-between items-center">
                            <p className="text-gray-400 mb-4 md:mb-0">
                                ¬© 2025 Outering Schools. All rights reserved.
                            </p>
                            <div className="flex space-x-6">
                                <button 
                                    onClick={() => handleLinkClick('Privacy Policy')}
                                    className="text-gray-400 hover:text-white bg-transparent border-none cursor-pointer"
                                >
                                    Privacy Policy
                                </button>
                                <button 
                                    onClick={() => handleLinkClick('Terms of Service')}
                                    className="text-gray-400 hover:text-white bg-transparent border-none cursor-pointer"
                                >
                                    Terms of Service
                                </button>
                                <button 
                                    onClick={() => handleLinkClick('Sitemap')}
                                    className="text-gray-400 hover:text-white bg-transparent border-none cursor-pointer"
                                >
                                    Sitemap
                                </button>
                            </div>
                        </div>
                    </div>
                </footer>
            );
        };

        const BackendStatus = () => {
            const [status, setStatus] = useState('checking');
            const [dbStatus, setDbStatus] = useState('unknown');
            
            useEffect(() => {
                const checkBackend = async () => {
                    try {
                        const response = await fetch('http://localhost:5000');
                        if (response.ok) {
                            const data = await response.json();
                            setStatus('connected');
                            setDbStatus(data.database || 'unknown');
                        } else {
                            setStatus('disconnected');
                            setDbStatus('unknown');
                        }
                    } catch (error) {
                        setStatus('disconnected');
                        setDbStatus('unknown');
                    }
                };
                
                checkBackend();
                const interval = setInterval(checkBackend, 30000);
                
                return () => clearInterval(interval);
            }, []);
            
            const getStatusColor = () => {
                if (status === 'connected' && dbStatus === 'connected') return 'bg-green-500';
                if (status === 'connected' && dbStatus === 'disconnected') return 'bg-yellow-500';
                if (status === 'checking') return 'bg-blue-500';
                return 'bg-red-500';
            };
            
            const getStatusText = () => {
                if (status === 'connected' && dbStatus === 'connected') return 'API + DB ‚úÖ';
                if (status === 'connected' && dbStatus === 'disconnected') return 'API ‚úÖ DB ‚ùå';
                if (status === 'connected') return 'API ‚úÖ';
                if (status === 'checking') return 'Checking...';
                return 'Offline ‚ùå';
            };
            
            return (
                <div className={`fixed bottom-4 right-4 px-4 py-2 rounded-lg shadow-lg flex items-center space-x-2 ${getStatusColor()} text-white z-50 text-sm`}>
                    <div className={`w-2 h-2 rounded-full animate-pulse ${
                        status === 'connected' ? 'bg-white' : 'bg-gray-300'
                    }`}></div>
                    <span>Backend: {getStatusText()}</span>
                </div>
            );
        };

        // Router Component
        const AppRouter = () => {
            const [currentRoute, setCurrentRoute] = useState(window.location.hash || '#/');
            
            useEffect(() => {
                const handleHashChange = () => {
                    setCurrentRoute(window.location.hash || '#/');
                };
                
                window.addEventListener('hashchange', handleHashChange);
                return () => window.removeEventListener('hashchange', handleHashChange);
            }, []);
            
            if (currentRoute === '#/login') {
                return <AdminLogin />;
            } else if (currentRoute === '#/admin') {
                return (
                    <ProtectedRoute>
                        <AdminDashboard />
                    </ProtectedRoute>
                );
            } else {
                return <SchoolWebsite />;
            }
        };

        // Main School Website Component
        const SchoolWebsite = () => {
            const [showScrollTop, setShowScrollTop] = useState(false);
            
            useEffect(() => {
                const handleScroll = () => {
                    setShowScrollTop(window.pageYOffset > 300);
                };
                
                window.addEventListener('scroll', handleScroll);
                return () => window.removeEventListener('scroll', handleScroll);
            }, []);
            
            return (
                <div className="min-h-screen flex flex-col">
                    <Header />
                    <HeroSection />
                    <AboutSection />
                    <AcademicsSection />
                    <NewsSection />
                    <CalendarSection />
                    <StaffSection />
                    <PoliciesSection />
                    <HandbooksSection />
                    <ContactSection />
                    <Footer />
                    <BackendStatus />
                    
                    {/* Scroll to Top Button */}
                    {showScrollTop && (
                        <button 
                            onClick={() => window.scrollTo({ top: 0, behavior: 'smooth' })}
                            className="fixed bottom-20 right-4 bg-blue-600 text-white p-3 rounded-full shadow-lg hover:bg-blue-700 transition z-40 cursor-pointer"
                        >
                            <i className="fas fa-arrow-up"></i>
                        </button>
                    )}
                </div>
            );
        };

        // Main App Component
        const App = () => {
            return (
                <Router>
                    {(currentHash) => {
                        const user = checkAuth();
                        
                        if (currentHash === '#/login') {
                            return <AdminLogin />;
                        } else if (currentHash === '#/admin') {
                            return user ? <AdminDashboard /> : <AdminLogin />;
                        } else {
                            return <AdminLogin />;
                        }
                    }}
                </Router>
            );
        };

        // Initialize the app
        const root = createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
    </script>
</body>
</html>